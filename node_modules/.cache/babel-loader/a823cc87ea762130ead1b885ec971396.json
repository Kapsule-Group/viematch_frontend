{"ast":null,"code":"import _classCallCheck from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/src/components/Dashboard/Dashboard.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport { getClinicLog, getClinicDashBoard } from \"../../actions/dashboardActions\";\nimport arrow_forward from \"../../assets/image/arrow_forward copy.svg\";\nimport './Dashboard.scss';\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dashboard, _Component);\n\n  function Dashboard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Dashboard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: true\n    };\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          getClinicLog = _this$props.getClinicLog,\n          getClinicDashBoard = _this$props.getClinicDashBoard;\n      getClinicLog().then(function (res) {\n        if (res.payload && res.payload.status && res.payload.status === 200) {\n          getClinicDashBoard().then(function (res) {\n            if (res.payload && res.payload.status && res.payload.status === 200) {\n              _this2.setState({\n                loading: false\n              });\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          clinicDashBoard = _this$props2.clinicDashBoard,\n          clinicLog = _this$props2.clinicLog;\n      var loading = this.state.loading;\n      if (loading) return null;\n      return React.createElement(\"div\", {\n        className: \"dashboard_page content_block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title_page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"Dashboard\"), React.createElement(\"div\", {\n        className: \"info_block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"descriptions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"total amount\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: 'small_price',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"RWF\"), clinicDashBoard.total_amount)), React.createElement(\"div\", {\n        className: \"center_block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: {\n          pathname: \"/main/stock-management\",\n          state: {\n            tab: 0\n          }\n        },\n        className: \"green_text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"products in stock\", React.createElement(\"img\", {\n        className: \"arrow\",\n        src: arrow_forward,\n        alt: \"arrow_forward\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, clinicDashBoard.in_stock))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: {\n          pathname: \"/main/stock-management\",\n          state: {\n            tab: 1\n          }\n        },\n        className: \"red_text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"products out of stock\", React.createElement(\"img\", {\n        className: \"arrow\",\n        src: arrow_forward,\n        alt: \"arrow_forward\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, clinicDashBoard.out_stock)))), React.createElement(\"div\", {\n        className: \"dashboard_block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"panel_dashboard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"recent actions\"), React.createElement(Link, {\n        to: \"/main/activity\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"view all\")), React.createElement(\"div\", {\n        className: \"dashboard_info_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, clinicLog.length > 0 ? clinicLog.map(function (el) {\n        return React.createElement(\"div\", {\n          key: el.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, moment(el.date).format('DD/MM/YYYY HH:mm')), React.createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: el.text\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }));\n      }) : React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"The list is empty.\"))));\n    }\n  }]);\n\n  return Dashboard;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    clinicLog: state.dashboard.clinicLog,\n    clinicDashBoard: state.dashboard.clinicDashBoard\n  };\n};\n\nvar mapDispatchToProps = {\n  getClinicLog: getClinicLog,\n  getClinicDashBoard: getClinicDashBoard\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);","map":{"version":3,"sources":["/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/src/components/Dashboard/Dashboard.jsx"],"names":["React","Component","connect","Link","moment","getClinicLog","getClinicDashBoard","Dashboard","state","loading","props","then","res","payload","status","setState","clinicDashBoard","clinicLog","total_amount","pathname","tab","arrow_forward","in_stock","out_stock","length","map","el","id","date","format","__html","text","mapStateToProps","dashboard","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport {\n    getClinicLog,\n    getClinicDashBoard\n} from \"../../actions/dashboardActions\";\nimport arrow_forward from '../../assets/image/arrow_forward copy.svg';\nimport './Dashboard.scss';\n\nclass Dashboard extends Component {\n    state = {\n        loading: true\n    };\n\n    componentDidMount(){\n        const { getClinicLog, getClinicDashBoard } = this.props;\n        getClinicLog().then(res => {\n            if(res.payload && res.payload.status && res.payload.status === 200) {\n                getClinicDashBoard().then(res => {\n                    if(res.payload && res.payload.status && res.payload.status === 200) {\n                        this.setState({ loading: false });\n                    }\n                })\n            }\n        })\n    }\n\n    render(){\n        const { clinicDashBoard, clinicLog } = this.props;\n        const { loading } = this.state;\n        if (loading) return null;\n        return (\n            <div className=\"dashboard_page content_block\">\n                <div className=\"title_page\">Dashboard</div>\n                <div className=\"info_block\">\n                    <div>\n                        <p className=\"descriptions\">total amount</p>\n                        <span><span className={'small_price'}>RWF</span>{clinicDashBoard.total_amount}</span>\n\n                    </div>\n                    <div className=\"center_block\">\n                        <Link to={{pathname:\"/main/stock-management\", state:{tab: 0}}}  className=\"green_text\">\n                            products in stock\n                            <img className=\"arrow\" src={arrow_forward} alt=\"arrow_forward\"/>\n                        </Link>\n                        <div className=\"info\">\n                            <span>{clinicDashBoard.in_stock}</span>\n                        </div>\n                    </div>\n                    <div>\n                        <Link to={{pathname:\"/main/stock-management\", state:{tab: 1}}} className=\"red_text\">\n                            products out of stock\n                            <img className=\"arrow\" src={arrow_forward} alt=\"arrow_forward\"/>\n                        </Link>\n                        <div className=\"info\">\n                            <span>{clinicDashBoard.out_stock}</span>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"dashboard_block\" >\n                    <div className=\"panel_dashboard\">\n                        <span>recent actions</span>\n                        <Link to=\"/main/activity\">view all</Link>\n                    </div>\n                    <div className=\"dashboard_info_wrapper\" >\n                        {clinicLog.length > 0 ?\n                            clinicLog.map(el => (\n                                <div key={el.id}>\n                                    <span>{moment(el.date).format('DD/MM/YYYY HH:mm')}</span>\n                                    {/*<p><span className=\"name_user\">Ivan Simpson</span> added <span className=\"count_prod\">10</span> items of <span className=\"name_prod\">Product1</span></p>*/}\n                                    <div dangerouslySetInnerHTML={{ __html: el.text }} />\n                                </div>\n                            ))\n                            :\n                            <h3>The list is empty.</h3>\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        clinicLog: state.dashboard.clinicLog,\n        clinicDashBoard: state.dashboard.clinicDashBoard\n    }\n};\n\nconst mapDispatchToProps = {\n    getClinicLog,\n    getClinicDashBoard\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\n"]},"metadata":{},"sourceType":"module"}