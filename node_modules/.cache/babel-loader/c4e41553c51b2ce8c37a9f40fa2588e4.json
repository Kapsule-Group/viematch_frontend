{"ast":null,"code":"import _classCallCheck from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/src/components/Auth/PasswordRecovery/FirstStep/FirstStep.jsx\";\nimport React, { Component } from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport RenderField from \"../../../HelperComponents/RenderField/RenderField\";\nimport DefaultButton from '../../../Buttons/DefaultButton/DefaultButton';\nimport { Link } from 'react-router-dom';\nimport arrow from \"../../../../assets/image/Path.svg\";\nimport { postResetPassword } from '../../../../actions/authActions';\nimport { resetErrorUsers } from '../../../../actions/UserActions';\n\nvar FirstStep = /*#__PURE__*/function (_Component) {\n  _inherits(FirstStep, _Component);\n\n  function FirstStep() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FirstStep);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FirstStep)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: false\n    };\n\n    _this.submitForm = function (data) {\n      var _this$props = _this.props,\n          postResetPassword = _this$props.postResetPassword,\n          history = _this$props.history,\n          resetErrorUsers = _this$props.resetErrorUsers;\n\n      _this.setState({\n        loading: true\n      });\n\n      postResetPassword(data).then(function (res) {\n        if (res.payload && res.payload.status && res.payload.status === 200) {\n          history.push(\"/auth/password-recovery/second-step/\");\n          resetErrorUsers();\n        } else {\n          _this.setState({\n            loading: false\n          });\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(FirstStep, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          handleSubmit = _this$props2.handleSubmit,\n          submitting = _this$props2.submitting,\n          pristine = _this$props2.pristine,\n          valid = _this$props2.valid,\n          step_fail = _this$props2.step_fail,\n          resetErrorUsers = _this$props2.resetErrorUsers;\n      var loading = this.state.loading;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit(this.submitForm),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/auth/sign-in\",\n        onClick: resetErrorUsers,\n        className: \"back_step\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: arrow,\n        alt: \"arrow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }\n      }), \"sign in\"), /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"auth-block_head\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }\n      }, \"Reset password\"), /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"auth-block_descriptions\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }\n      }, \"Enter your email to continue\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"block_field\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }\n      }, \"Email\", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"back_error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 32\n        }\n      }, !!step_fail && step_fail.email)), /*#__PURE__*/React.createElement(Field, {\n        name: \"email\",\n        type: \"text\",\n        component: RenderField,\n        placeholder: \"Type here\\u2026\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"auth_btn_wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(DefaultButton, {\n        variant: \"contained\",\n        type: \"submit\",\n        disabled: submitting || pristine || !valid,\n        loading: loading,\n        formAction: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }\n      }, \"Next\")));\n    }\n  }]);\n\n  return FirstStep;\n}(Component);\n\nvar validate = function validate(values) {\n  var errors = {};\n\n  if (!values.company) {\n    errors.company = 'Required';\n  } else if (values.company.length < 3) {\n    errors.company = 'Must be 3 characters or more';\n  }\n\n  if (!values.email) {\n    errors.email = 'Required';\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,5}$/i.test(values.email)) {\n    errors.email = 'Invalid email';\n  }\n\n  if (!values.password) {\n    errors.password = 'Required';\n  } else if (values.password.length < 8) {\n    errors.password = 'Must be 8 characters or more';\n  }\n\n  if (!values.phone) {\n    errors.phone = 'Required';\n  }\n\n  if (!values.address) {\n    errors.address = 'Required';\n  }\n\n  return errors;\n};\n\nFirstStep = reduxForm({\n  form: 'FirstStepForm',\n  validate: validate\n})(FirstStep);\n\nfunction mapStateToProps(state, props) {\n  return {\n    step_fail: state.auth.error\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    postResetPassword: postResetPassword,\n    resetErrorUsers: resetErrorUsers\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FirstStep);","map":{"version":3,"sources":["/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/src/components/Auth/PasswordRecovery/FirstStep/FirstStep.jsx"],"names":["React","Component","Field","reduxForm","connect","bindActionCreators","RenderField","DefaultButton","Link","postResetPassword","resetErrorUsers","FirstStep","state","loading","submitForm","data","props","history","setState","then","res","payload","status","push","handleSubmit","submitting","pristine","valid","step_fail","arrow","email","validate","values","errors","company","length","test","password","phone","address","form","mapStateToProps","auth","error","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport {connect} from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport RenderField from \"../../../HelperComponents/RenderField/RenderField\";\nimport DefaultButton from '../../../Buttons/DefaultButton/DefaultButton';\nimport { Link } from 'react-router-dom';\nimport arrow from '../../../../assets/image/Path.svg';\nimport { postResetPassword } from '../../../../actions/authActions';\nimport { resetErrorUsers } from '../../../../actions/UserActions';\n\nclass FirstStep extends Component {\n\n    state = {\n      loading: false,\n    };\n\n    submitForm = (data) => {\n        const { postResetPassword, history, resetErrorUsers } = this.props;\n        this.setState({loading: true});\n        postResetPassword(data).then(res => {\n            if(res.payload && res.payload.status && res.payload.status === 200) {\n\n                history.push(`/auth/password-recovery/second-step/`);\n                resetErrorUsers()\n            }else{\n                this.setState({loading: false});\n            }\n        })\n\n    };\n    render(){\n        const { handleSubmit, submitting, pristine, valid, step_fail, resetErrorUsers } = this.props;\n        const { loading } = this.state;\n        return (\n            <form onSubmit={handleSubmit(this.submitForm)}>\n                <Link to={`/auth/sign-in`} onClick={resetErrorUsers} className=\"back_step\">\n                    <img src={arrow} alt=\"arrow\"/>\n                    sign in\n                </Link>\n                <h3 className=\"auth-block_head\">Reset password</h3>\n                <h3 className=\"auth-block_descriptions\">Enter your email to continue</h3>\n                <div className=\"block_field\">\n                    <span>Email<span className='back_error'>{!!step_fail && step_fail.email}</span></span>\n                    <Field name=\"email\" type=\"text\" component={RenderField} placeholder=\"Type here…\"/>\n                </div>\n                <div className=\"auth_btn_wrapper\">\n                    <DefaultButton\n                        variant=\"contained\"\n                        type=\"submit\"\n                        disabled={submitting || pristine || !valid}\n                        loading={loading}\n                        formAction\n                    >\n                        Next\n                    </DefaultButton>\n                </div>\n            </form>\n        );\n    }\n}\n\nconst validate = values => {\n    const errors = {};\n    if (!values.company) {\n        errors.company = 'Required'\n    } else if (values.company.length < 3) {\n        errors.company = 'Must be 3 characters or more'\n    }\n    if (!values.email) {\n        errors.email = 'Required'\n    } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,5}$/i.test(values.email)) {\n        errors.email = 'Invalid email'\n    }\n    if (!values.password) {\n        errors.password = 'Required'\n    } else if (values.password.length < 8) {\n        errors.password = 'Must be 8 characters or more'\n    }\n    if (!values.phone) {\n        errors.phone = 'Required'\n    }\n    if (!values.address) {\n        errors.address = 'Required'\n    }\n    return errors\n};\n\nFirstStep = reduxForm({\n    form: 'FirstStepForm',\n    validate\n})(FirstStep);\n\nfunction  mapStateToProps(state, props) {\n    return{\n        step_fail: state.auth.error,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators({\n        postResetPassword,\n        resetErrorUsers\n    }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FirstStep);"]},"metadata":{},"sourceType":"module"}