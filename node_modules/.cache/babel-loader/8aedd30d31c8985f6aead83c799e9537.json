{"ast":null,"code":"import _classCallCheck from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/src/components/StockManagement/StockManagement.jsx\";\nimport React, { Fragment, Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Link } from 'react-router-dom';\nimport Pagination from '../HelperComponents/Pagination/Pagination';\nimport ok from \"../../assets/image/ok.svg\";\nimport no from \"../../assets/image/no.svg\";\nimport minus from \"../../assets/image/minus.svg\";\nimport plus from \"../../assets/image/plus.svg\";\nimport roll_down from \"../../assets/image/roll_down.svg\";\nimport sort_up from \"../../assets/image/sort_up.svg\";\nimport sort_down from \"../../assets/image/sort_down.svg\";\nimport './StockManagement.scss';\nimport QuantityDialog from './Dialogs/QuantityDialog';\nimport RequestDialog from './Dialogs/RequestDialog';\nimport { getStock, searchStock, getSearchList } from '../../actions/stockActions';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\n\nvar StockManagement = /*#__PURE__*/function (_Component) {\n  _inherits(StockManagement, _Component);\n\n  function StockManagement() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, StockManagement);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(StockManagement)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: true,\n      tab: \"0\",\n      stock: 'in',\n      activePage: 0,\n      totalPages: '',\n      totalItems: '',\n      InfoIsOpen: false,\n      openQuantityDialog: false,\n      openRequestDialog: false,\n      sign: null,\n      product_name: null,\n      product_quantity: null,\n      openSearch: false,\n      optionValue: null,\n      switcherState: 'quantity',\n      someVal: '',\n      newVal: ''\n    };\n\n    _this.doRequest = function (page) {\n      var getStock = _this.props.getStock;\n      var _this$state = _this.state,\n          stock = _this$state.stock,\n          switcherState = _this$state.switcherState;\n      getStock(stock, page !== undefined ? page.selected + 1 : false, switcherState).then(function (res) {\n        if (res.payload && res.payload.status && res.payload.status === 200) {\n          if (page !== undefined) {\n            _this.setState({\n              loading: false,\n              activePage: page.selected,\n              totalPages: res.payload.data.total_pages,\n              totalItems: res.payload.data.count\n            });\n          } else {\n            _this.setState({\n              loading: false,\n              totalPages: res.payload.data.total_pages,\n              totalItems: res.payload.data.count,\n              activePage: page ? page : 0\n            });\n          }\n        }\n      });\n    };\n\n    _this.handleSwitch = function () {\n      if (_this.state.switcherState === 'quantity') {\n        _this.setState({\n          switcherState: '-quantity'\n        });\n      } else {\n        _this.setState({\n          switcherState: 'quantity'\n        });\n      }\n\n      _this.timer = _this.timeout = setTimeout(function () {\n        _this.doRequest();\n      }, 0);\n    };\n\n    _this.toggleQuantityDialog = function (sign, name, quantity, id) {\n      _this.setState(function (_ref) {\n        var openQuantityDialog = _ref.openQuantityDialog;\n        return {\n          openQuantityDialog: !openQuantityDialog,\n          sign: typeof sign === 'string' ? sign : '',\n          product_name: name,\n          product_quantity: quantity,\n          product_id: id,\n          InfoIsOpen: false\n        };\n      });\n    };\n\n    _this.toggleRequestDialog = function (name, quantity, id) {\n      _this.setState(function (_ref2) {\n        var openRequestDialog = _ref2.openRequestDialog;\n        return {\n          openRequestDialog: !openRequestDialog,\n          product_name: typeof name === 'string' ? name : '',\n          product_quantity: quantity,\n          product_id: id,\n          InfoIsOpen: false\n        };\n      });\n    };\n\n    _this.changeTab = function (tab, stock) {\n      var getStock = _this.props.getStock;\n\n      _this.setState({\n        tab: tab,\n        stock: stock\n      });\n\n      getStock(stock).then(function (res) {\n        if (res.payload && res.payload.status && res.payload.status === 200) {\n          _this.setState({\n            loading: false,\n            activePage: 0,\n            totalPages: res.payload.data.total_pages,\n            totalItems: res.payload.data.count\n          });\n\n          _this.pagFunc();\n        }\n      });\n    };\n\n    _this.openMenu = function (id) {\n      _this.setState(function (_ref3) {\n        var InfoIsOpen = _ref3.InfoIsOpen;\n        return {\n          InfoIsOpen: true,\n          product_id: id\n        };\n      });\n    };\n\n    _this.closeMenu = function (id) {\n      _this.setState(function (_ref4) {\n        var InfoIsOpen = _ref4.InfoIsOpen;\n        return {\n          InfoIsOpen: false,\n          product_id: ''\n        };\n      });\n    };\n\n    _this.toggleSearch = function () {\n      _this.setState(function (_ref5) {\n        var openSearch = _ref5.openSearch;\n        return {\n          openSearch: !openSearch\n        };\n      });\n    };\n\n    _this.togglePopper = function () {\n      _this.setState({\n        openSearch: true,\n        activePage: 0\n      });\n    };\n\n    _this.handleToggleSearch = function () {\n      _this.setState({\n        openSearch: false\n      });\n    };\n\n    _this.searchOnChange = function (e) {\n      var regEx = /[^a-zA-Zа-яА-Я0-9]/g;\n\n      _this.setState({\n        someVal: e.target.value.replace(regEx, ''),\n        newVal: e.target.value.replace(regEx, '')\n      });\n    };\n\n    _this.handleSearchChange = function (e) {\n      var _this$props = _this.props,\n          searchStock = _this$props.searchStock,\n          search_list = _this$props.search_list,\n          getSearchList = _this$props.getSearchList;\n      var stock = _this.state.stock;\n      var inputValue = e.target.value.replace('#', '');\n\n      if (inputValue.length >= 3) {\n        searchStock(stock, inputValue).then(function (res) {\n          if (res.payload && res.payload.status && res.payload.status === 200) {\n            _this.togglePopper();\n          }\n        });\n      } else if (inputValue.length < 3) {\n        _this.setState({\n          openSearch: false\n        });\n\n        if (inputValue.length === 0) {\n          _this.doRequest();\n        }\n      }\n\n      if (e.keyCode === 13 && inputValue.length > 2) {\n        var el_id = search_list.map(function (el) {\n          return el.id;\n        });\n        getSearchList(el_id.join(',')).then(function (res) {\n          if (res.payload && res.payload.status && res.payload.status === 200) {\n            _this.setState({\n              totalPages: res.payload.data.total_pages,\n              totalItems: res.payload.data.count\n            });\n\n            _this.handleToggleSearch();\n          }\n        });\n      } else if (e.keyCode === 13 && inputValue.length < 2) {\n        return null;\n      }\n    };\n\n    _this.handleSearchClick = function (id) {\n      var getSearchList = _this.props.getSearchList;\n      getSearchList(id).then(function (res) {\n        if (res.payload && res.payload.status && res.payload.status === 200) {\n          _this.setState({\n            totalPages: res.payload.data.total_pages,\n            totalItems: res.payload.data.count\n          });\n\n          _this.handleToggleSearch();\n        }\n      });\n    };\n\n    _this.pagFunc = function (page) {\n      _this.doRequest(page);\n    };\n\n    return _this;\n  }\n\n  _createClass(StockManagement, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        role: localStorage.getItem('role')\n      });\n\n      if (this.props.location.state) {\n        this.setState({\n          tab: this.props.location.state.tab.toString()\n        });\n        this.props.location.state.tab === 1 && this.setState({\n          stock: 'out'\n        });\n      }\n\n      this.timer = this.timeout = setTimeout(function () {\n        _this2.doRequest();\n      }, 0);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearTimeout(this.timeout);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state2 = this.state,\n          tab = _this$state2.tab,\n          activePage = _this$state2.activePage,\n          InfoIsOpen = _this$state2.InfoIsOpen,\n          openQuantityDialog = _this$state2.openQuantityDialog,\n          openRequestDialog = _this$state2.openRequestDialog,\n          loading = _this$state2.loading,\n          sign = _this$state2.sign,\n          product_name = _this$state2.product_name,\n          product_quantity = _this$state2.product_quantity,\n          product_id = _this$state2.product_id,\n          openSearch = _this$state2.openSearch,\n          totalPages = _this$state2.totalPages,\n          totalItems = _this$state2.totalItems,\n          role = _this$state2.role,\n          stock = _this$state2.stock,\n          newVal = _this$state2.newVal;\n      var _this$props2 = this.props,\n          stock_list = _this$props2.stock_list,\n          search_list = _this$props2.search_list;\n      if (loading) return null;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"stock_management_page content_block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"title_page\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 17\n        }\n      }, \"Stock management\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content_page\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tab_block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: tab === \"0\" ? \"active\" : \"\",\n        onClick: function onClick() {\n          return _this3.changeTab(\"0\", \"in\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 25\n        }\n      }, \"in stock\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: tab === \"1\" ? \"active\" : \"\",\n        onClick: function onClick() {\n          return _this3.changeTab(\"1\", \"out\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 25\n        }\n      }, \"out of stock\")), totalItems > 0 ? /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(ClickAwayListener, {\n        onClickAway: this.handleToggleSearch,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"block_search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        onKeyUp: function onKeyUp(e) {\n          return _this3.handleSearchChange(e);\n        },\n        onChange: this.searchOnChange,\n        value: newVal,\n        type: \"text\",\n        placeholder: \"Search\\u2026\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 33\n        }\n      }), openSearch ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"autocomplete\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 37\n        }\n      }, !!search_list && search_list[0] ? search_list.map(function (el, idx) {\n        return /*#__PURE__*/React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this3.handleSearchClick(el.id);\n          },\n          className: \"search_item\",\n          key: idx,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 49\n          }\n        }, el.product_name);\n      }) : /*#__PURE__*/React.createElement(\"button\", {\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 50\n        }\n      }, \"No items\")) : null)), tab === \"0\" && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"in_stock_wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"in_stock_table\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"table_container transactions_columns\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"table_header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"table_row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row_item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 49\n        }\n      }, \"Name\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row_item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 49\n        }\n      }, \"Code\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row_item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.handleSwitch,\n        className: \"btn_sort\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 53\n        }\n      }, \"Quantity\", /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sort\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: sort_up,\n        alt: \"sort_up\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 61\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        src: sort_down,\n        alt: \"sort_down\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 61\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row_item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 49\n        }\n      }, \"Unit value\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row_item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 49\n        }\n      }, \"Total value\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row_item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 49\n        }\n      }, \"Actions\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"table_body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 37\n        }\n      }, stock_list.results.map(function (row, idx) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"table_row\",\n          key: idx,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 53\n          }\n        }, row.product_name), row.code ? /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 57\n          }\n        }, \"#\", row.code) : /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 57\n          }\n        }, \"-\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          disabled: row.quantity <= 0,\n          onClick: function onClick() {\n            return _this3.toggleQuantityDialog('-', row.product_name, row.quantity, row.id);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 57\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: minus,\n          alt: \"minus\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 61\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 57\n          }\n        }, row.quantity), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this3.toggleQuantityDialog('+', row.product_name, row.quantity, row.id);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 57\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: plus,\n          alt: \"plus\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 61\n          }\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 53\n          }\n        }, \"RWF\", row.price), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 53\n          }\n        }, \"RWF\", row.total_price), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 53\n          }\n        }, row.deleted && row.code ? /*#__PURE__*/React.createElement(\"div\", {\n          className: \"btn_text\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 84\n          }\n        }, \"Not available\") : row.code ? /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 65\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          className: role !== \"user\" ? \"green_text btn_text\" : \"hided\",\n          disabled: role === 'user',\n          onClick: function onClick() {\n            return _this3.toggleRequestDialog(row.product_name, row.quantity, row.id);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 69\n          }\n        }, \"REQUEST SUPPLY\")) : /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 68\n          }\n        }, \"-\"), /*#__PURE__*/React.createElement(\"button\", {\n          className: InfoIsOpen && product_id === row.id ? \"btn_arrow_open btn_arrow\" : \"btn_arrow\",\n          onClick: function onClick() {\n            return product_id === row.id ? _this3.closeMenu(row.id) : _this3.openMenu(row.id);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 57\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: roll_down,\n          alt: \"roll_down\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 148\n          }\n        })))), /*#__PURE__*/React.createElement(\"div\", {\n          className: InfoIsOpen && product_id === row.id ? \"info info_open\" : \"info\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 57\n          }\n        }, \"Category\"), role !== 'user' ? /*#__PURE__*/React.createElement(Link, {\n          className: role !== \"user\" ? \"\" : \"hided\",\n          to: \"/main/catalog/category/\".concat(row.product_subcategory[0][row.product_subcategory[0].length - 1].id),\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 76\n          }\n        }, row.product_subcategory[1]) : /*#__PURE__*/React.createElement(\"a\", {\n          className: \"hided\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 63\n          }\n        }, row.product_subcategory[1])), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 57\n          }\n        }, \"Auto supply\"), row.auto_supply ? /*#__PURE__*/React.createElement(\"img\", {\n          src: ok,\n          alt: \"ok\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 61\n          }\n        }) : /*#__PURE__*/React.createElement(\"img\", {\n          src: no,\n          alt: \"no\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 61\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 57\n          }\n        }, \"Min. qty\"), row.deleted ? '-' : row.min_supply_quantity), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 57\n          }\n        }, \"Auto supply qty\"), row.deleted ? '-' : row.supply_quantity)));\n      }))), totalItems < 10 ? null : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pagination_info_wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pagination_block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Pagination, {\n        active: activePage,\n        pageCount: +totalPages,\n        onChange: this.pagFunc,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 45\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 41\n        }\n      }, \"Displaying page \", activePage + 1, \" of \", totalPages, \", items \", (activePage + 1) * 10 - 9, \" to \", (activePage + 1) * 10 > totalItems ? totalItems : (activePage + 1) * 10, \" of \", totalItems)))), tab === \"1\" && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"out_of_stock_table\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"table_container transactions_columns\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"table_header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"table_row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row_item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 41\n        }\n      }, \"Name\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row_item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 41\n        }\n      }, \"Category\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row_item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 41\n        }\n      }, \"Code\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row_item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn_sort stub\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 45\n        }\n      }, \"Quantity\", /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sort\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 49\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row_item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 41\n        }\n      }, \"Unit value\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row_item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 41\n        }\n      }, \"Actions\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"table_body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 33\n        }\n      }, stock_list.results.map(function (row, idx) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"table_row\",\n          key: idx,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 45\n          }\n        }, row.product_name), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 45\n          }\n        }, role !== 'user' ? /*#__PURE__*/React.createElement(Link, {\n          className: role !== \"user\" ? \"\" : \"hided\",\n          to: \"/main/catalog/category/\".concat(row.product_subcategory[0][row.product_subcategory[0].length - 1].id),\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 68\n          }\n        }, row.product_subcategory[1]) : /*#__PURE__*/React.createElement(\"a\", {\n          className: \"hided\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 55\n          }\n        }, row.product_subcategory[1])), row.code ? /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 49\n          }\n        }, \"#\", row.code) : /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 49\n          }\n        }, \"-\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          disabled: row.quantity <= 0,\n          onClick: function onClick() {\n            return _this3.toggleQuantityDialog('-', row.product_name, row.quantity, row.id);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          style: {\n            opacity: '.4'\n          },\n          src: minus,\n          alt: \"minus\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 53\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 49\n          }\n        }, row.quantity), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this3.toggleQuantityDialog('+', row.product_name, row.quantity, row.id, row.id);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: plus,\n          alt: \"plus\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 53\n          }\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 45\n          }\n        }, \"RWF\", row.price), row.code ? /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          className: role !== \"user\" ? \"green_text btn_text\" : \"hided\",\n          disabled: role === 'user',\n          onClick: function onClick() {\n            return _this3.toggleRequestDialog(row.product_name, row.quantity, row.id);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 53\n          }\n        }, \"Request supply\")) : /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row_item\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 52\n          }\n        }, \"-\"));\n      }))), totalItems < 10 ? null : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pagination_info_wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pagination_block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Pagination, {\n        active: activePage,\n        pageCount: +totalPages,\n        onChange: this.doRequest,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 41\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 37\n        }\n      }, \"Displaying page \", activePage + 1, \" of \", totalPages, \", items \", (activePage + 1) * 10 - 9, \" to \", (activePage + 1) * 10 > totalItems ? totalItems : (activePage + 1) * 10, \" of \", totalItems)))) : /*#__PURE__*/React.createElement(\"h3\", {\n        className: 'empty_list',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 34\n        }\n      }, \"The list is empty\")), /*#__PURE__*/React.createElement(QuantityDialog, {\n        toggler: this.toggleQuantityDialog,\n        product_quantity: product_quantity,\n        product_name: product_name,\n        sign: sign,\n        state: openQuantityDialog,\n        product_id: product_id,\n        startValue: '',\n        activePage: activePage,\n        doRequest: this.doRequest,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(RequestDialog, {\n        toggler: this.toggleRequestDialog,\n        product_quantity: product_quantity,\n        product_name: product_name,\n        state: openRequestDialog,\n        product_id: product_id,\n        startValue: '',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return StockManagement;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    stock_list: state.stock.stock_list,\n    search_list: state.stock.search_list\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    getStock: getStock,\n    searchStock: searchStock,\n    getSearchList: getSearchList\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StockManagement);","map":{"version":3,"sources":["/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/src/components/StockManagement/StockManagement.jsx"],"names":["React","Fragment","Component","connect","bindActionCreators","Link","Pagination","QuantityDialog","RequestDialog","getStock","searchStock","getSearchList","ClickAwayListener","StockManagement","state","loading","tab","stock","activePage","totalPages","totalItems","InfoIsOpen","openQuantityDialog","openRequestDialog","sign","product_name","product_quantity","openSearch","optionValue","switcherState","someVal","newVal","doRequest","page","props","undefined","selected","then","res","payload","status","setState","data","total_pages","count","handleSwitch","timer","timeout","setTimeout","toggleQuantityDialog","name","quantity","id","product_id","toggleRequestDialog","changeTab","pagFunc","openMenu","closeMenu","toggleSearch","togglePopper","handleToggleSearch","searchOnChange","e","regEx","target","value","replace","handleSearchChange","search_list","inputValue","length","keyCode","el_id","map","el","join","handleSearchClick","role","localStorage","getItem","location","toString","clearTimeout","stock_list","idx","sort_up","sort_down","results","row","code","minus","plus","price","total_price","deleted","roll_down","product_subcategory","auto_supply","ok","no","min_supply_quantity","supply_quantity","opacity","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,UAAP,MAAuB,2CAAvB;;;;;;;;AAQA,OAAO,wBAAP;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AACA,OAAOC,aAAP,MAA0B,yBAA1B;AACA,SAASC,QAAT,EAAmBC,WAAnB,EAAgCC,aAAhC,QAAqD,4BAArD;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;;IAGMC,e;;;;;;;;;;;;;;;UACFC,K,GAAQ;AACJC,MAAAA,OAAO,EAAE,IADL;AAEJC,MAAAA,GAAG,EAAE,GAFD;AAGJC,MAAAA,KAAK,EAAE,IAHH;AAIJC,MAAAA,UAAU,EAAE,CAJR;AAKJC,MAAAA,UAAU,EAAE,EALR;AAMJC,MAAAA,UAAU,EAAE,EANR;AAOJC,MAAAA,UAAU,EAAE,KAPR;AAQJC,MAAAA,kBAAkB,EAAC,KARf;AASJC,MAAAA,iBAAiB,EAAE,KATf;AAUJC,MAAAA,IAAI,EAAE,IAVF;AAWJC,MAAAA,YAAY,EAAE,IAXV;AAYJC,MAAAA,gBAAgB,EAAE,IAZd;AAaJC,MAAAA,UAAU,EAAE,KAbR;AAcJC,MAAAA,WAAW,EAAE,IAdT;AAeJC,MAAAA,aAAa,EAAE,UAfX;AAgBJC,MAAAA,OAAO,EAAE,EAhBL;AAiBJC,MAAAA,MAAM,EAAE;AAjBJ,K;;UAsCRC,S,GAAY,UAACC,IAAD,EAAU;AAAA,UACVxB,QADU,GACG,MAAKyB,KADR,CACVzB,QADU;AAAA,wBAEe,MAAKK,KAFpB;AAAA,UAEVG,KAFU,eAEVA,KAFU;AAAA,UAEHY,aAFG,eAEHA,aAFG;AAGlBpB,MAAAA,QAAQ,CAACQ,KAAD,EAAQgB,IAAI,KAAKE,SAAT,GAAqBF,IAAI,CAACG,QAAL,GAAgB,CAArC,GAAyC,KAAjD,EAAwDP,aAAxD,CAAR,CAA+EQ,IAA/E,CAAoF,UAAAC,GAAG,EAAI;AACvF,YAAIA,GAAG,CAACC,OAAJ,IAAeD,GAAG,CAACC,OAAJ,CAAYC,MAA3B,IAAqCF,GAAG,CAACC,OAAJ,CAAYC,MAAZ,KAAuB,GAAhE,EAAqE;AACjE,cAAIP,IAAI,KAAKE,SAAb,EAAwB;AACpB,kBAAKM,QAAL,CAAc;AACV1B,cAAAA,OAAO,EAAE,KADC;AAEVG,cAAAA,UAAU,EAAEe,IAAI,CAACG,QAFP;AAGVjB,cAAAA,UAAU,EAAEmB,GAAG,CAACC,OAAJ,CAAYG,IAAZ,CAAiBC,WAHnB;AAIVvB,cAAAA,UAAU,EAAEkB,GAAG,CAACC,OAAJ,CAAYG,IAAZ,CAAiBE;AAJnB,aAAd;AAMH,WAPD,MAOO;AACH,kBAAKH,QAAL,CAAc;AACV1B,cAAAA,OAAO,EAAE,KADC;AAEVI,cAAAA,UAAU,EAAEmB,GAAG,CAACC,OAAJ,CAAYG,IAAZ,CAAiBC,WAFnB;AAGVvB,cAAAA,UAAU,EAAEkB,GAAG,CAACC,OAAJ,CAAYG,IAAZ,CAAiBE,KAHnB;AAIV1B,cAAAA,UAAU,EAAGe,IAAI,GAAGA,IAAH,GAAU;AAJjB,aAAd;AAMH;AACJ;AACJ,OAlBD;AAmBH,K;;UAEDY,Y,GAAe,YAAM;AACjB,UAAG,MAAK/B,KAAL,CAAWe,aAAX,KAA6B,UAAhC,EAA2C;AACvC,cAAKY,QAAL,CAAc;AACVZ,UAAAA,aAAa,EAAE;AADL,SAAd;AAIH,OALD,MAKM;AACF,cAAKY,QAAL,CAAc;AACVZ,UAAAA,aAAa,EAAE;AADL,SAAd;AAGH;;AACD,YAAKiB,KAAL,GAAa,MAAKC,OAAL,GAAeC,UAAU,CAAC,YAAM;AACzC,cAAKhB,SAAL;AACH,OAFqC,EAEnC,CAFmC,CAAtC;AAGH,K;;UAEDiB,oB,GAAuB,UAACzB,IAAD,EAAO0B,IAAP,EAAaC,QAAb,EAAuBC,EAAvB,EAA8B;AACjD,YAAKX,QAAL,CAAc;AAAA,YAAEnB,kBAAF,QAAEA,kBAAF;AAAA,eAA2B;AACrCA,UAAAA,kBAAkB,EAAE,CAACA,kBADgB;AAErCE,UAAAA,IAAI,EAAE,OAAOA,IAAP,KAAiB,QAAjB,GAA4BA,IAA5B,GAAmC,EAFJ;AAGrCC,UAAAA,YAAY,EAAEyB,IAHuB;AAIrCxB,UAAAA,gBAAgB,EAAEyB,QAJmB;AAKrCE,UAAAA,UAAU,EAAED,EALyB;AAMrC/B,UAAAA,UAAU,EAAE;AANyB,SAA3B;AAAA,OAAd;AAQH,K;;UACDiC,mB,GAAsB,UAACJ,IAAD,EAAOC,QAAP,EAAiBC,EAAjB,EAAwB;AAC1C,YAAKX,QAAL,CAAc;AAAA,YAAElB,iBAAF,SAAEA,iBAAF;AAAA,eAA0B;AACpCA,UAAAA,iBAAiB,EAAE,CAACA,iBADgB;AAEpCE,UAAAA,YAAY,EAAE,OAAOyB,IAAP,KAAiB,QAAjB,GAA4BA,IAA5B,GAAmC,EAFb;AAGpCxB,UAAAA,gBAAgB,EAAEyB,QAHkB;AAIpCE,UAAAA,UAAU,EAAED,EAJwB;AAKpC/B,UAAAA,UAAU,EAAE;AALwB,SAA1B;AAAA,OAAd;AAOH,K;;UAEDkC,S,GAAY,UAACvC,GAAD,EAAMC,KAAN,EAAgB;AAAA,UAChBR,QADgB,GACH,MAAKyB,KADF,CAChBzB,QADgB;;AAExB,YAAKgC,QAAL,CAAc;AAAEzB,QAAAA,GAAG,EAAHA,GAAF;AAAOC,QAAAA,KAAK,EAALA;AAAP,OAAd;;AACAR,MAAAA,QAAQ,CAACQ,KAAD,CAAR,CAAgBoB,IAAhB,CAAqB,UAAAC,GAAG,EAAI;AACxB,YAAGA,GAAG,CAACC,OAAJ,IAAeD,GAAG,CAACC,OAAJ,CAAYC,MAA3B,IAAqCF,GAAG,CAACC,OAAJ,CAAYC,MAAZ,KAAuB,GAA/D,EAAmE;AAC/D,gBAAKC,QAAL,CAAc;AACV1B,YAAAA,OAAO,EAAE,KADC;AAEVG,YAAAA,UAAU,EAAE,CAFF;AAGVC,YAAAA,UAAU,EAAEmB,GAAG,CAACC,OAAJ,CAAYG,IAAZ,CAAiBC,WAHnB;AAIVvB,YAAAA,UAAU,EAAEkB,GAAG,CAACC,OAAJ,CAAYG,IAAZ,CAAiBE;AAJnB,WAAd;;AAMA,gBAAKY,OAAL;AACH;AACJ,OAVD;AAWH,K;;UAEDC,Q,GAAW,UAACL,EAAD,EAAQ;AACf,YAAKX,QAAL,CAAc;AAAA,YAAEpB,UAAF,SAAEA,UAAF;AAAA,eAAmB;AAC7BA,UAAAA,UAAU,EAAE,IADiB;AAE7BgC,UAAAA,UAAU,EAAED;AAFiB,SAAnB;AAAA,OAAd;AAIH,K;;UAEDM,S,GAAY,UAACN,EAAD,EAAQ;AAChB,YAAKX,QAAL,CAAc;AAAA,YAAEpB,UAAF,SAAEA,UAAF;AAAA,eAAmB;AAC7BA,UAAAA,UAAU,EAAE,KADiB;AAE7BgC,UAAAA,UAAU,EAAE;AAFiB,SAAnB;AAAA,OAAd;AAIH,K;;UAEDM,Y,GAAe,YAAM;AACjB,YAAKlB,QAAL,CAAc;AAAA,YAAEd,UAAF,SAAEA,UAAF;AAAA,eAAmB;AAC7BA,UAAAA,UAAU,EAAE,CAACA;AADgB,SAAnB;AAAA,OAAd;AAGH,K;;UAEDiC,Y,GAAe,YAAM;AACjB,YAAKnB,QAAL,CAAc;AAACd,QAAAA,UAAU,EAAE,IAAb;AAAmBT,QAAAA,UAAU,EAAE;AAA/B,OAAd;AACH,K;;UAED2C,kB,GAAqB,YAAM;AACvB,YAAKpB,QAAL,CAAc;AACVd,QAAAA,UAAU,EAAE;AADF,OAAd;AAGH,K;;UAEDmC,c,GAAiB,UAACC,CAAD,EAAO;AACpB,UAAIC,KAAK,GAAG,qBAAZ;;AAEA,YAAKvB,QAAL,CAAc;AACVX,QAAAA,OAAO,EAAEiC,CAAC,CAACE,MAAF,CAASC,KAAT,CAAeC,OAAf,CAAuBH,KAAvB,EAA8B,EAA9B,CADC;AAEVjC,QAAAA,MAAM,EAAEgC,CAAC,CAACE,MAAF,CAASC,KAAT,CAAeC,OAAf,CAAuBH,KAAvB,EAA8B,EAA9B;AAFE,OAAd;AAIH,K;;UAGDI,kB,GAAqB,UAACL,CAAD,EAAO;AAAA,wBAC4B,MAAK7B,KADjC;AAAA,UAChBxB,WADgB,eAChBA,WADgB;AAAA,UACH2D,WADG,eACHA,WADG;AAAA,UACU1D,aADV,eACUA,aADV;AAAA,UAEhBM,KAFgB,GAEN,MAAKH,KAFC,CAEhBG,KAFgB;AAGxB,UAAIqD,UAAU,GAAGP,CAAC,CAACE,MAAF,CAASC,KAAT,CAAeC,OAAf,CAAuB,GAAvB,EAA4B,EAA5B,CAAjB;;AAIA,UAAGG,UAAU,CAACC,MAAX,IAAqB,CAAxB,EAA0B;AACtB7D,QAAAA,WAAW,CAACO,KAAD,EAAQqD,UAAR,CAAX,CAA+BjC,IAA/B,CAAoC,UAAAC,GAAG,EAAI;AACvC,cAAGA,GAAG,CAACC,OAAJ,IAAeD,GAAG,CAACC,OAAJ,CAAYC,MAA3B,IAAqCF,GAAG,CAACC,OAAJ,CAAYC,MAAZ,KAAuB,GAA/D,EAAmE;AAC/D,kBAAKoB,YAAL;AACH;AACJ,SAJD;AAKH,OAND,MAMM,IAAGU,UAAU,CAACC,MAAX,GAAoB,CAAvB,EAAyB;AAC3B,cAAK9B,QAAL,CAAc;AAACd,UAAAA,UAAU,EAAE;AAAb,SAAd;;AACA,YAAI2C,UAAU,CAACC,MAAX,KAAsB,CAA1B,EAA6B;AAEzB,gBAAKvC,SAAL;AACH;AACJ;;AAED,UAAG+B,CAAC,CAACS,OAAF,KAAc,EAAd,IAAoBF,UAAU,CAACC,MAAX,GAAoB,CAA3C,EAA8C;AAC1C,YAAIE,KAAK,GAAGJ,WAAW,CAACK,GAAZ,CAAgB,UAAAC,EAAE;AAAA,iBAAIA,EAAE,CAACvB,EAAP;AAAA,SAAlB,CAAZ;AACAzC,QAAAA,aAAa,CAAC8D,KAAK,CAACG,IAAN,CAAW,GAAX,CAAD,CAAb,CAA+BvC,IAA/B,CAAoC,UAAAC,GAAG,EAAI;AACvC,cAAGA,GAAG,CAACC,OAAJ,IAAeD,GAAG,CAACC,OAAJ,CAAYC,MAA3B,IAAqCF,GAAG,CAACC,OAAJ,CAAYC,MAAZ,KAAuB,GAA/D,EAAmE;AAC/D,kBAAKC,QAAL,CAAc;AACVtB,cAAAA,UAAU,EAAEmB,GAAG,CAACC,OAAJ,CAAYG,IAAZ,CAAiBC,WADnB;AAEVvB,cAAAA,UAAU,EAAEkB,GAAG,CAACC,OAAJ,CAAYG,IAAZ,CAAiBE;AAFnB,aAAd;;AAGA,kBAAKiB,kBAAL;AACH;AACJ,SAPD;AAQH,OAVD,MAUM,IAAGE,CAAC,CAACS,OAAF,KAAc,EAAd,IAAoBF,UAAU,CAACC,MAAX,GAAoB,CAA3C,EAA6C;AAC/C,eAAO,IAAP;AACH;AAEJ,K;;UACDM,iB,GAAoB,UAACzB,EAAD,EAAQ;AAAA,UAChBzC,aADgB,GACE,MAAKuB,KADP,CAChBvB,aADgB;AAExBA,MAAAA,aAAa,CAACyC,EAAD,CAAb,CAAkBf,IAAlB,CAAuB,UAAAC,GAAG,EAAI;AAC1B,YAAGA,GAAG,CAACC,OAAJ,IAAeD,GAAG,CAACC,OAAJ,CAAYC,MAA3B,IAAqCF,GAAG,CAACC,OAAJ,CAAYC,MAAZ,KAAuB,GAA/D,EAAmE;AAC/D,gBAAKC,QAAL,CAAc;AACVtB,YAAAA,UAAU,EAAEmB,GAAG,CAACC,OAAJ,CAAYG,IAAZ,CAAiBC,WADnB;AAEVvB,YAAAA,UAAU,EAAEkB,GAAG,CAACC,OAAJ,CAAYG,IAAZ,CAAiBE;AAFnB,WAAd;;AAGA,gBAAKiB,kBAAL;AACH;AACJ,OAPD;AAQH,K;;UAEDL,O,GAAU,UAACvB,IAAD,EAAU;AAChB,YAAKD,SAAL,CAAeC,IAAf;AACH,K;;;;;;;wCAxLmB;AAAA;;AAChB,WAAKQ,QAAL,CAAc;AAACqC,QAAAA,IAAI,EAAEC,YAAY,CAACC,OAAb,CAAqB,MAArB;AAAP,OAAd;;AACA,UAAI,KAAK9C,KAAL,CAAW+C,QAAX,CAAoBnE,KAAxB,EAA8B;AAC1B,aAAK2B,QAAL,CAAc;AACVzB,UAAAA,GAAG,EAAE,KAAKkB,KAAL,CAAW+C,QAAX,CAAoBnE,KAApB,CAA0BE,GAA1B,CAA8BkE,QAA9B;AADK,SAAd;AAGA,aAAKhD,KAAL,CAAW+C,QAAX,CAAoBnE,KAApB,CAA0BE,GAA1B,KAAkC,CAAlC,IAAuC,KAAKyB,QAAL,CAAc;AAAExB,UAAAA,KAAK,EAAE;AAAT,SAAd,CAAvC;AACH;;AAED,WAAK6B,KAAL,GAAa,KAAKC,OAAL,GAAeC,UAAU,CAAC,YAAM;AACzC,QAAA,MAAI,CAAChB,SAAL;AACH,OAFqC,EAEnC,CAFmC,CAAtC;AAGH;;;2CAEsB;AACnBmD,MAAAA,YAAY,CAAC,KAAKpC,OAAN,CAAZ;AACH;;;6BA2KO;AAAA;;AAAA,yBAmBA,KAAKjC,KAnBL;AAAA,UAGAE,GAHA,gBAGAA,GAHA;AAAA,UAIAE,UAJA,gBAIAA,UAJA;AAAA,UAKAG,UALA,gBAKAA,UALA;AAAA,UAMAC,kBANA,gBAMAA,kBANA;AAAA,UAOAC,iBAPA,gBAOAA,iBAPA;AAAA,UAQAR,OARA,gBAQAA,OARA;AAAA,UASAS,IATA,gBASAA,IATA;AAAA,UAUAC,YAVA,gBAUAA,YAVA;AAAA,UAWAC,gBAXA,gBAWAA,gBAXA;AAAA,UAYA2B,UAZA,gBAYAA,UAZA;AAAA,UAaA1B,UAbA,gBAaAA,UAbA;AAAA,UAcAR,UAdA,gBAcAA,UAdA;AAAA,UAeAC,UAfA,gBAeAA,UAfA;AAAA,UAgBA0D,IAhBA,gBAgBAA,IAhBA;AAAA,UAiBA7D,KAjBA,gBAiBAA,KAjBA;AAAA,UAkBAc,MAlBA,gBAkBAA,MAlBA;AAAA,yBAoB8B,KAAKG,KApBnC;AAAA,UAoBGkD,UApBH,gBAoBGA,UApBH;AAAA,UAoBef,WApBf,gBAoBeA,WApBf;AAqBJ,UAAGtD,OAAH,EAAY,OAAO,IAAP;AACZ,0BACI;AAAK,QAAA,SAAS,EAAC,qCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAGI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AACI,QAAA,SAAS,EAAEC,GAAG,KAAK,GAAR,GAAc,QAAd,GAAyB,EADxC;AAEI,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACuC,SAAL,CAAe,GAAf,EAAoB,IAApB,CAAN;AAAA,SAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAOI;AACI,QAAA,SAAS,EAAEvC,GAAG,KAAK,GAAR,GAAc,QAAd,GAAyB,EADxC;AAEI,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACuC,SAAL,CAAe,GAAf,EAAoB,KAApB,CAAN;AAAA,SAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAPJ,CADJ,EAeKnC,UAAU,GAAG,CAAb,gBAAiB,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEd,oBAAC,iBAAD;AAAmB,QAAA,WAAW,EAAE,KAAKyC,kBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AACI,QAAA,OAAO,EAAE,iBAACE,CAAD;AAAA,iBAAO,MAAI,CAACK,kBAAL,CAAwBL,CAAxB,CAAP;AAAA,SADb;AAEI,QAAA,QAAQ,EAAE,KAAKD,cAFnB;AAGI,QAAA,KAAK,EAAE/B,MAHX;AAII,QAAA,IAAI,EAAC,MAJT;AAKI,QAAA,WAAW,EAAC,cALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAQKJ,UAAU,gBACP;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,CAAC,CAAC0C,WAAF,IAAiBA,WAAW,CAAC,CAAD,CAA5B,GACGA,WAAW,CAACK,GAAZ,CAAgB,UAACC,EAAD,EAAKU,GAAL;AAAA,4BACZ;AAAQ,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACR,iBAAL,CAAuBF,EAAE,CAACvB,EAA1B,CAAN;AAAA,WAAjB;AAAsD,UAAA,SAAS,EAAC,aAAhE;AAA8E,UAAA,GAAG,EAAEiC,GAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAyFV,EAAE,CAAClD,YAA5F,CADY;AAAA,OAAhB,CADH,gBAGQ;AAAQ,QAAA,QAAQ,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJb,CADO,GAOL,IAfV,CADJ,CAFc,EAuBbT,GAAG,KAAK,GAAR,iBACD;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAQ,QAAA,OAAO,EAAE,KAAK6B,YAAtB;AAAoC,QAAA,SAAS,EAAC,UAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAEI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,GAAG,EAAEyC,OAAV;AAAmB,QAAA,GAAG,EAAC,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eAEI;AAAK,QAAA,GAAG,EAAEC,SAAV;AAAqB,QAAA,GAAG,EAAC,WAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CAFJ,CADJ,CAHJ,eAYI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAZJ,eAaI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAbJ,eAcI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAdJ,CADJ,CADJ,CADJ,eAqBI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKH,UAAU,CAACI,OAAX,CAAmBd,GAAnB,CAAuB,UAACe,GAAD,EAAMJ,GAAN;AAAA,4BACpB;AAAK,UAAA,SAAS,EAAC,WAAf;AAA2B,UAAA,GAAG,EAAEA,GAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA2BI,GAAG,CAAChE,YAA/B,CADJ,EAEKgE,GAAG,CAACC,IAAJ,gBACG;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA4BD,GAAG,CAACC,IAAhC,CADH,gBAEG;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJR,eAKI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAQ,UAAA,QAAQ,EAAED,GAAG,CAACtC,QAAJ,IAAgB,CAAlC;AACQ,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACF,oBAAL,CAA0B,GAA1B,EAA+BwC,GAAG,CAAChE,YAAnC,EAAiDgE,GAAG,CAACtC,QAArD,EAA+DsC,GAAG,CAACrC,EAAnE,CAAN;AAAA,WADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAEI;AAAK,UAAA,GAAG,EAAEuC,KAAV;AAAiB,UAAA,GAAG,EAAC,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,CADJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAMF,GAAG,CAACtC,QAAV,CALJ,eAMI;AAAQ,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACF,oBAAL,CAA0B,GAA1B,EAA+BwC,GAAG,CAAChE,YAAnC,EAAiDgE,GAAG,CAACtC,QAArD,EAA+DsC,GAAG,CAACrC,EAAnE,CAAN;AAAA,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAK,UAAA,GAAG,EAAEwC,IAAV;AAAgB,UAAA,GAAG,EAAC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CANJ,CALJ,eAeI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA8BH,GAAG,CAACI,KAAlC,CAfJ,eAiBI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA8BJ,GAAG,CAACK,WAAlC,CAjBJ,eAkBI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACKL,GAAG,CAACM,OAAJ,IAAeN,GAAG,CAACC,IAAnB,gBAA0B;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAA1B,GACGD,GAAG,CAACC,IAAJ,gBACI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAQ,UAAA,SAAS,EAAEZ,IAAI,KAAK,MAAT,GAAkB,qBAAlB,GAA0C,OAA7D;AAAsE,UAAA,QAAQ,EAAEA,IAAI,KAAK,MAAzF;AAAiG,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACxB,mBAAL,CAAyBmC,GAAG,CAAChE,YAA7B,EAA2CgE,GAAG,CAACtC,QAA/C,EAAyDsC,GAAG,CAACrC,EAA7D,CAAN;AAAA,WAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,CADJ,gBAMO;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eARf,eASI;AACI,UAAA,SAAS,EAAE/B,UAAU,IAAIgC,UAAU,KAAKoC,GAAG,CAACrC,EAAjC,GAAsC,0BAAtC,GAAmE,WADlF;AAEI,UAAA,OAAO,EAAE;AAAA,mBAAMC,UAAU,KAAKoC,GAAG,CAACrC,EAAnB,GAAwB,MAAI,CAACM,SAAL,CAAe+B,GAAG,CAACrC,EAAnB,CAAxB,GAAiD,MAAI,CAACK,QAAL,CAAcgC,GAAG,CAACrC,EAAlB,CAAvD;AAAA,WAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAE2F;AAAK,UAAA,GAAG,EAAE4C,SAAV;AAAqB,UAAA,GAAG,EAAC,WAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAF3F,CATJ,CAlBJ,CADJ,eAkCI;AAAK,UAAA,SAAS,EAAE3E,UAAU,IAAIgC,UAAU,KAAKoC,GAAG,CAACrC,EAAjC,GAAsC,gBAAtC,GAAyD,MAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEK0B,IAAI,KAAK,MAAT,gBAAkB,oBAAC,IAAD;AAAM,UAAA,SAAS,EAAEA,IAAI,KAAK,MAAT,GAAkB,EAAlB,GAAuB,OAAxC;AAAiD,UAAA,EAAE,mCAA4BW,GAAG,CAACQ,mBAAJ,CAAwB,CAAxB,EAA2BR,GAAG,CAACQ,mBAAJ,CAAwB,CAAxB,EAA2B1B,MAA3B,GAAkC,CAA7D,EAAgEnB,EAA5F,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAsJqC,GAAG,CAACQ,mBAAJ,CAAwB,CAAxB,CAAtJ,CAAlB,gBACK;AAAG,UAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAsBR,GAAG,CAACQ,mBAAJ,CAAwB,CAAxB,CAAtB,CAHV,CADJ,eAMI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,EAEKR,GAAG,CAACS,WAAJ,gBACG;AAAK,UAAA,GAAG,EAAEC,EAAV;AAAc,UAAA,GAAG,EAAC,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADH,gBAEG;AAAK,UAAA,GAAG,EAAEC,EAAV;AAAc,UAAA,GAAG,EAAC,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJR,CANJ,eAaI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEKX,GAAG,CAACM,OAAJ,GAAc,GAAd,GAAoBN,GAAG,CAACY,mBAF7B,CAbJ,eAiBI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,EAEKZ,GAAG,CAACM,OAAJ,GAAc,GAAd,GAAoBN,GAAG,CAACa,eAF7B,CAjBJ,CAlCJ,CADoB;AAAA,OAAvB,CADL,CArBJ,CADJ,EAoFKlF,UAAU,GAAG,EAAb,GAAkB,IAAlB,gBACG;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,UAAD;AACI,QAAA,MAAM,EAAEF,UADZ;AAEI,QAAA,SAAS,EAAE,CAACC,UAFhB;AAGI,QAAA,QAAQ,EAAE,KAAKqC,OAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,eAQI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAuCtC,UAAU,GAAC,CAAlD,UAAyDC,UAAzD,cACW,CAACD,UAAU,GAAG,CAAd,IAAmB,EAAnB,GAAwB,CADnC,UAC0C,CAACA,UAAU,GAAG,CAAd,IAAmB,EAAnB,GAAwBE,UAAxB,GAAqCA,UAArC,GAAkD,CAACF,UAAU,GAAG,CAAd,IAAmB,EAD/G,UACuHE,UADvH,CARJ,CArFR,CADJ,CAxBc,EA8HbJ,GAAG,KAAK,GAAR,iBACD;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAGI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAII;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAQ,QAAA,SAAS,EAAC,eAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAEI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ,CAJJ,eAaI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAbJ,eAcI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAdJ,CADJ,CADJ,eAmBI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKoE,UAAU,CAACI,OAAX,CAAmBd,GAAnB,CAAuB,UAACe,GAAD,EAAMJ,GAAN;AAAA,4BACpB;AAAK,UAAA,SAAS,EAAC,WAAf;AAA2B,UAAA,GAAG,EAAEA,GAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA2BI,GAAG,CAAChE,YAA/B,CADJ,eAEI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACKqD,IAAI,KAAK,MAAT,gBAAkB,oBAAC,IAAD;AAAM,UAAA,SAAS,EAAEA,IAAI,KAAK,MAAT,GAAkB,EAAlB,GAAuB,OAAxC;AAAiD,UAAA,EAAE,mCAA4BW,GAAG,CAACQ,mBAAJ,CAAwB,CAAxB,EAA2BR,GAAG,CAACQ,mBAAJ,CAAwB,CAAxB,EAA2B1B,MAA3B,GAAkC,CAA7D,EAAgEnB,EAA5F,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAsJqC,GAAG,CAACQ,mBAAJ,CAAwB,CAAxB,CAAtJ,CAAlB,gBACK;AAAG,UAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAsBR,GAAG,CAACQ,mBAAJ,CAAwB,CAAxB,CAAtB,CAFV,CAFJ,EAMKR,GAAG,CAACC,IAAJ,gBACG;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA4BD,GAAG,CAACC,IAAhC,CADH,gBAEG;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eARR,eASI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAQ,UAAA,QAAQ,EAAED,GAAG,CAACtC,QAAJ,IAAgB,CAAlC;AAAqC,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACF,oBAAL,CAA0B,GAA1B,EAA+BwC,GAAG,CAAChE,YAAnC,EAAiDgE,GAAG,CAACtC,QAArD,EAA+DsC,GAAG,CAACrC,EAAnE,CAAN;AAAA,WAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAK,UAAA,KAAK,EAAE;AAACmD,YAAAA,OAAO,EAAC;AAAT,WAAZ;AAA4B,UAAA,GAAG,EAAEZ,KAAjC;AAAwC,UAAA,GAAG,EAAC,OAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAMF,GAAG,CAACtC,QAAV,CAJJ,eAKI;AAAQ,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACF,oBAAL,CAA0B,GAA1B,EAA+BwC,GAAG,CAAChE,YAAnC,EAAiDgE,GAAG,CAACtC,QAArD,EAA+DsC,GAAG,CAACrC,EAAnE,EAAuEqC,GAAG,CAACrC,EAA3E,CAAN;AAAA,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAK,UAAA,GAAG,EAAEwC,IAAV;AAAgB,UAAA,GAAG,EAAC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CALJ,CATJ,eAkBI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA8BH,GAAG,CAACI,KAAlC,CAlBJ,EAmBKJ,GAAG,CAACC,IAAJ,gBACG;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAQ,UAAA,SAAS,EAAEZ,IAAI,KAAK,MAAT,GAAkB,qBAAlB,GAA0C,OAA7D;AAAsE,UAAA,QAAQ,EAAEA,IAAI,KAAK,MAAzF;AAAiG,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACxB,mBAAL,CAAyBmC,GAAG,CAAChE,YAA7B,EAA2CgE,GAAG,CAACtC,QAA/C,EAAyDsC,GAAG,CAACrC,EAA7D,CAAN;AAAA,WAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,CADH,gBAMM;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAzBX,CADoB;AAAA,OAAvB,CADL,CAnBJ,CADJ,EAoDKhC,UAAU,GAAG,EAAb,GAAkB,IAAlB,gBACG;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,UAAD;AACI,QAAA,MAAM,EAAEF,UADZ;AAEI,QAAA,SAAS,EAAE,CAACC,UAFhB;AAGI,QAAA,QAAQ,EAAE,KAAKa,SAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,eAQI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAuCd,UAAU,GAAC,CAAlD,UAAyDC,UAAzD,cACW,CAACD,UAAU,GAAG,CAAd,IAAmB,EAAnB,GAAwB,CADnC,UAC0C,CAACA,UAAU,GAAG,CAAd,IAAmB,EAAnB,GAAwBE,UAAxB,GAAqCA,UAArC,GAAkD,CAACF,UAAU,GAAG,CAAd,IAAmB,EAD/G,UACuHE,UADvH,CARJ,CArDR,CA/Hc,CAAjB,gBAkMY;AAAI,QAAA,SAAS,EAAE,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAjNjB,CAHJ,eAuNI,oBAAC,cAAD;AAAgB,QAAA,OAAO,EAAE,KAAK6B,oBAA9B;AACgB,QAAA,gBAAgB,EAAEvB,gBADlC;AAEgB,QAAA,YAAY,EAAED,YAF9B;AAGgB,QAAA,IAAI,EAAED,IAHtB;AAIgB,QAAA,KAAK,EAAEF,kBAJvB;AAKgB,QAAA,UAAU,EAAE+B,UAL5B;AAMgB,QAAA,UAAU,EAAE,EAN5B;AAOgB,QAAA,UAAU,EAAEnC,UAP5B;AAQgB,QAAA,SAAS,EAAE,KAAKc,SARhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvNJ,eAiOI,oBAAC,aAAD;AAAe,QAAA,OAAO,EAAE,KAAKsB,mBAA7B;AACe,QAAA,gBAAgB,EAAE5B,gBADjC;AAEe,QAAA,YAAY,EAAED,YAF7B;AAGe,QAAA,KAAK,EAAEF,iBAHtB;AAIe,QAAA,UAAU,EAAE8B,UAJ3B;AAKe,QAAA,UAAU,EAAE,EAL3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAjOJ,CADJ;AA2OH;;;;EAjdyBnD,S;;AAod9B,SAASsG,eAAT,CAAyB1F,KAAzB,EAAgC;AAC5B,SAAM;AACFsE,IAAAA,UAAU,EAAEtE,KAAK,CAACG,KAAN,CAAYmE,UADtB;AAEFf,IAAAA,WAAW,EAAEvD,KAAK,CAACG,KAAN,CAAYoD;AAFvB,GAAN;AAIH;;AACD,SAASoC,kBAAT,CAA4BC,QAA5B,EAAsC;AAClC,SAAOtG,kBAAkB,CAAC;AACtBK,IAAAA,QAAQ,EAARA,QADsB;AAEtBC,IAAAA,WAAW,EAAXA,WAFsB;AAGtBC,IAAAA,aAAa,EAAbA;AAHsB,GAAD,EAItB+F,QAJsB,CAAzB;AAKH;;AAED,eAAevG,OAAO,CAACqG,eAAD,EAAkBC,kBAAlB,CAAP,CAA6C5F,eAA7C,CAAf","sourcesContent":["import React, { Fragment, Component} from 'react';\nimport {connect} from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Link } from 'react-router-dom';\nimport Pagination from '../HelperComponents/Pagination/Pagination';\nimport ok from '../../assets/image/ok.svg';\nimport no from '../../assets/image/no.svg';\nimport minus from '../../assets/image/minus.svg';\nimport plus from '../../assets/image/plus.svg';\nimport roll_down from '../../assets/image/roll_down.svg';\nimport sort_up from '../../assets/image/sort_up.svg';\nimport sort_down from '../../assets/image/sort_down.svg';\nimport './StockManagement.scss';\nimport QuantityDialog from './Dialogs/QuantityDialog';\nimport RequestDialog from './Dialogs/RequestDialog';\nimport { getStock, searchStock, getSearchList } from '../../actions/stockActions';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\n\n\nclass StockManagement extends Component {\n    state = {\n        loading: true,\n        tab: \"0\",\n        stock: 'in',\n        activePage: 0,\n        totalPages: '',\n        totalItems: '',\n        InfoIsOpen: false,\n        openQuantityDialog:false,\n        openRequestDialog: false,\n        sign: null,\n        product_name: null,\n        product_quantity: null,\n        openSearch: false,\n        optionValue: null,\n        switcherState: 'quantity',\n        someVal: '',\n        newVal: ''\n    };\n\n    componentDidMount() {\n        this.setState({role: localStorage.getItem('role')});\n        if (this.props.location.state){\n            this.setState({\n                tab: this.props.location.state.tab.toString(),\n            });\n            this.props.location.state.tab === 1 && this.setState({ stock: 'out' });\n        }\n\n        this.timer = this.timeout = setTimeout(() => {\n            this.doRequest();\n        }, 0);\n    }\n\n    componentWillUnmount() {\n        clearTimeout(this.timeout);\n    }\n\n    doRequest = (page) => {\n        const { getStock } = this.props;\n        const { stock, switcherState } = this.state;\n        getStock(stock, page !== undefined ? page.selected + 1 : false, switcherState).then(res => {\n            if (res.payload && res.payload.status && res.payload.status === 200) {\n                if (page !== undefined) {\n                    this.setState({\n                        loading: false,\n                        activePage: page.selected,\n                        totalPages: res.payload.data.total_pages,\n                        totalItems: res.payload.data.count\n                    })\n                } else {\n                    this.setState({\n                        loading: false,\n                        totalPages: res.payload.data.total_pages,\n                        totalItems: res.payload.data.count,\n                        activePage: (page ? page : 0),\n                    })\n                }\n            }\n        })\n    };\n\n    handleSwitch = () => {\n        if(this.state.switcherState === 'quantity'){\n            this.setState({\n                switcherState: '-quantity',\n            })\n\n        }else {\n            this.setState({\n                switcherState: 'quantity',\n            });\n        }\n        this.timer = this.timeout = setTimeout(() => {\n            this.doRequest();\n        }, 0);\n    };\n\n    toggleQuantityDialog = (sign, name, quantity, id) => {\n        this.setState(({openQuantityDialog}) => ({\n            openQuantityDialog: !openQuantityDialog,\n            sign: typeof(sign) === 'string' ? sign : '',\n            product_name: name,\n            product_quantity: quantity,\n            product_id: id,\n            InfoIsOpen: false,\n        }));\n    };\n    toggleRequestDialog = (name, quantity, id) => {\n        this.setState(({openRequestDialog}) => ({\n            openRequestDialog: !openRequestDialog,\n            product_name: typeof(name) === 'string' ? name : '',\n            product_quantity: quantity,\n            product_id: id,\n            InfoIsOpen: false,\n        }));\n    };\n\n    changeTab = (tab, stock) => {\n        const { getStock } = this.props;\n        this.setState({ tab, stock });\n        getStock(stock).then(res => {\n            if(res.payload && res.payload.status && res.payload.status === 200){\n                this.setState({\n                    loading: false,\n                    activePage: 0,\n                    totalPages: res.payload.data.total_pages,\n                    totalItems: res.payload.data.count\n                });\n                this.pagFunc();\n            }\n        })\n    };\n\n    openMenu = (id) => {\n        this.setState(({InfoIsOpen}) => ({\n            InfoIsOpen: true,\n            product_id: id,\n        }))\n    };\n\n    closeMenu = (id) => {\n        this.setState(({InfoIsOpen}) => ({\n            InfoIsOpen: false,\n            product_id: '',\n        }))\n    };\n\n    toggleSearch = () => {\n        this.setState(({openSearch}) => ({\n            openSearch: !openSearch\n        }));\n    };\n\n    togglePopper = () => {\n        this.setState({openSearch: true, activePage: 0 });\n    };\n\n    handleToggleSearch = () => {\n        this.setState({\n            openSearch: false\n        })\n    };\n\n    searchOnChange = (e) => {\n        let regEx = /[^a-zA-Zа-яА-Я0-9]/g;\n\n        this.setState({\n            someVal: e.target.value.replace(regEx, ''),\n            newVal: e.target.value.replace(regEx, '')\n        })\n    };\n\n\n    handleSearchChange = (e) => {\n        const { searchStock, search_list, getSearchList } = this.props;\n        const { stock } = this.state;\n        let inputValue = e.target.value.replace('#', '');\n\n\n\n        if(inputValue.length >= 3){\n            searchStock(stock, inputValue).then(res => {\n                if(res.payload && res.payload.status && res.payload.status === 200){\n                    this.togglePopper();\n                }\n            })\n        }else if(inputValue.length < 3){\n            this.setState({openSearch: false});\n            if (inputValue.length === 0) {\n\n                this.doRequest();\n            }\n        }\n\n        if(e.keyCode === 13 && inputValue.length > 2) {\n            let el_id = search_list.map(el => el.id);\n            getSearchList(el_id.join(',')).then(res => {\n                if(res.payload && res.payload.status && res.payload.status === 200){\n                    this.setState({\n                        totalPages: res.payload.data.total_pages,\n                        totalItems: res.payload.data.count});\n                    this.handleToggleSearch();\n                }\n            })\n        }else if(e.keyCode === 13 && inputValue.length < 2){\n            return null\n        }\n\n    };\n    handleSearchClick = (id) => {\n        const { getSearchList } = this.props;\n        getSearchList(id).then(res => {\n            if(res.payload && res.payload.status && res.payload.status === 200){\n                this.setState({\n                    totalPages: res.payload.data.total_pages,\n                    totalItems: res.payload.data.count});\n                this.handleToggleSearch();\n            }\n        })\n    };\n\n    pagFunc = (page) => {\n        this.doRequest(page)\n    };\n\n\n    render(){\n\n        const {\n            tab,\n            activePage,\n            InfoIsOpen,\n            openQuantityDialog,\n            openRequestDialog,\n            loading,\n            sign,\n            product_name,\n            product_quantity,\n            product_id,\n            openSearch,\n            totalPages,\n            totalItems,\n            role,\n            stock,\n            newVal\n        } = this.state;\n        const {stock_list, search_list} = this.props;\n        if(loading) return null;\n        return (\n            <div className=\"stock_management_page content_block\">\n                <div className=\"title_page\">Stock management</div>\n\n                <div className=\"content_page\">\n                    <div className=\"tab_block\">\n                        <button\n                            className={tab === \"0\" ? \"active\" : \"\"}\n                            onClick={() => this.changeTab(\"0\", \"in\")}\n                        >\n                            in stock\n                        </button>\n                        <button\n                            className={tab === \"1\" ? \"active\" : \"\"}\n                            onClick={() => this.changeTab(\"1\", \"out\")}\n                        >\n                            out of stock\n                        </button>\n                    </div>\n                    {totalItems > 0 ? <Fragment>\n\n                        <ClickAwayListener onClickAway={this.handleToggleSearch}>\n                            <div className=\"block_search\">\n                                <input\n                                    onKeyUp={(e) => this.handleSearchChange(e)}\n                                    onChange={this.searchOnChange}\n                                    value={newVal}\n                                    type=\"text\"\n                                    placeholder=\"Search…\"\n                                />\n                                {openSearch ?\n                                    <div className=\"autocomplete\">\n                                        {!!search_list && search_list[0] ?\n                                            search_list.map((el, idx) => (\n                                                <button onClick={() => this.handleSearchClick(el.id)} className='search_item' key={idx}>{el.product_name}</button>\n                                            )) : <button disabled>No items</button> }\n                                    </div>\n                                    : null}\n                            </div>\n                        </ClickAwayListener>\n\n\n                        {tab === \"0\" &&\n                        <div className=\"in_stock_wrapper\">\n                            <div className=\"in_stock_table\">\n                                <div className=\"table_container transactions_columns\">\n                                    <div className=\"table_header\">\n                                        <div className=\"table_row\">\n                                            <div className=\"row\">\n                                                <div className=\"row_item\">Name</div>\n                                                <div className=\"row_item\">Code</div>\n                                                <div className=\"row_item\">\n                                                    <button onClick={this.handleSwitch} className=\"btn_sort\">\n                                                        Quantity\n                                                        <div className=\"sort\">\n                                                            <img src={sort_up} alt=\"sort_up\"/>\n                                                            <img src={sort_down} alt=\"sort_down\"/>\n                                                        </div>\n                                                    </button>\n                                                </div>\n                                                <div className=\"row_item\">Unit value</div>\n                                                <div className=\"row_item\">Total value</div>\n                                                <div className=\"row_item\">Actions</div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"table_body\">\n                                        {stock_list.results.map((row, idx) => (\n                                            <div className=\"table_row\" key={idx}>\n                                                <div className=\"row\">\n                                                    <div className=\"row_item\">{row.product_name}</div>\n                                                    {row.code ?\n                                                        <div className=\"row_item\">#{row.code}</div> :\n                                                        <div className=\"row_item\">-</div>}\n                                                    <div className=\"row_item\">\n                                                        <button disabled={row.quantity <= 0}\n                                                                onClick={() => this.toggleQuantityDialog('-', row.product_name, row.quantity, row.id)}>\n                                                            <img src={minus} alt=\"minus\"/>\n                                                        </button>\n                                                        <div>{row.quantity}</div>\n                                                        <button onClick={() => this.toggleQuantityDialog('+', row.product_name, row.quantity, row.id)}>\n                                                            <img src={plus} alt=\"plus\"/>\n                                                        </button>\n                                                    </div>\n                                                    <div className=\"row_item\">RWF{row.price}</div>\n\n                                                    <div className=\"row_item\">RWF{row.total_price}</div>\n                                                    <div className=\"row_item\">\n                                                        {row.deleted && row.code ? <div className=\"btn_text\">Not available</div> :\n                                                            row.code ?\n                                                                <div className=\"row_item\">\n                                                                    <button className={role !== \"user\" ? \"green_text btn_text\" : \"hided\"} disabled={role === 'user'} onClick={() => this.toggleRequestDialog(row.product_name, row.quantity, row.id)}>\n                                                                        REQUEST SUPPLY\n                                                                    </button>\n                                                                </div>\n                                                                :  <div className=\"row_item\">-</div>}\n                                                        <button\n                                                            className={InfoIsOpen && product_id === row.id ? \"btn_arrow_open btn_arrow\" : \"btn_arrow\"}\n                                                            onClick={() => product_id === row.id ? this.closeMenu(row.id) : this.openMenu(row.id)}><img src={roll_down} alt=\"roll_down\"/>\n                                                        </button>\n                                                    </div>\n                                                </div>\n                                                <div className={InfoIsOpen && product_id === row.id ? \"info info_open\" : \"info\"}>\n                                                    <div className=\"row_item\">\n                                                        <span>Category</span>\n                                                        {role !== 'user' ? <Link className={role !== \"user\" ? \"\" : \"hided\"} to={`/main/catalog/category/${row.product_subcategory[0][row.product_subcategory[0].length-1].id}`}>{row.product_subcategory[1]}</Link>\n                                                            : <a className='hided'>{row.product_subcategory[1]}</a> }\n                                                    </div>\n                                                    <div className=\"row_item\">\n                                                        <span>Auto supply</span>\n                                                        {row.auto_supply ?\n                                                            <img src={ok} alt=\"ok\"/> :\n                                                            <img src={no} alt=\"no\"/>\n                                                        }\n                                                    </div>\n                                                    <div className=\"row_item\">\n                                                        <span>Min. qty</span>\n                                                        {row.deleted ? '-' : row.min_supply_quantity}\n                                                    </div>\n                                                    <div className=\"row_item\">\n                                                        <span>Auto supply qty</span>\n                                                        {row.deleted ? '-' : row.supply_quantity}\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        ))}\n                                    </div>\n                                </div>\n                                {totalItems < 10 ? null :\n                                    <div className=\"pagination_info_wrapper\">\n                                        <div className=\"pagination_block\">\n                                            <Pagination\n                                                active={activePage}\n                                                pageCount={+totalPages}\n                                                onChange={this.pagFunc}\n                                            />\n                                        </div>\n                                        <div className=\"info\">Displaying page {activePage+1} of {totalPages},\n                                            items {(activePage + 1) * 10 - 9} to {(activePage + 1) * 10 > totalItems ? totalItems : (activePage + 1) * 10} of {totalItems}</div>\n                                    </div>\n                                }\n                            </div>\n\n                        </div>\n                        }\n                        {tab === \"1\" &&\n                        <div className=\"out_of_stock_table\">\n                            <div className=\"table_container transactions_columns\">\n                                <div className=\"table_header\">\n                                    <div className=\"table_row\">\n                                        <div className=\"row_item\">Name</div>\n                                        <div className=\"row_item\">Category</div>\n                                        <div className=\"row_item\">Code</div>\n                                        <div className=\"row_item\">\n                                            <button className=\"btn_sort stub\">\n                                                Quantity\n                                                <div className=\"sort\">\n                                                    {/*<img src={sort_up} alt=\"sort_up\"/>*/}\n                                                    {/*<img src={sort_down} alt=\"sort_down\"/>*/}\n                                                </div>\n                                            </button>\n                                        </div>\n                                        <div className=\"row_item\">Unit value</div>\n                                        <div className=\"row_item\">Actions</div>\n                                    </div>\n                                </div>\n                                <div className=\"table_body\">\n                                    {stock_list.results.map((row, idx) => (\n                                        <div className=\"table_row\" key={idx}>\n                                            <div className=\"row_item\">{row.product_name}</div>\n                                            <div className=\"row_item\">\n                                                {role !== 'user' ? <Link className={role !== \"user\" ? \"\" : \"hided\"} to={`/main/catalog/category/${row.product_subcategory[0][row.product_subcategory[0].length-1].id}`}>{row.product_subcategory[1]}</Link>\n                                                    : <a className='hided'>{row.product_subcategory[1]}</a> }\n                                            </div>\n                                            {row.code ?\n                                                <div className=\"row_item\">#{row.code}</div> :\n                                                <div className=\"row_item\">-</div>}\n                                            <div className=\"row_item\">\n                                                <button disabled={row.quantity <= 0} onClick={() => this.toggleQuantityDialog('-', row.product_name, row.quantity, row.id)}>\n                                                    <img style={{opacity:'.4'}} src={minus} alt=\"minus\"/>\n                                                </button>\n                                                <div>{row.quantity}</div>\n                                                <button onClick={() => this.toggleQuantityDialog('+', row.product_name, row.quantity, row.id, row.id)}>\n                                                    <img src={plus} alt=\"plus\"/>\n                                                </button>\n                                            </div>\n                                            <div className=\"row_item\">RWF{row.price}</div>\n                                            {row.code ?\n                                                <div className=\"row_item\">\n                                                    <button className={role !== \"user\" ? \"green_text btn_text\" : \"hided\"} disabled={role === 'user'} onClick={() => this.toggleRequestDialog(row.product_name, row.quantity, row.id)}>\n                                                        Request supply\n                                                    </button>\n                                                </div>\n                                                :  <div className=\"row_item\">-</div>}\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                            {totalItems < 10 ? null :\n                                <div className=\"pagination_info_wrapper\">\n                                    <div className=\"pagination_block\">\n                                        <Pagination\n                                            active={activePage}\n                                            pageCount={+totalPages}\n                                            onChange={this.doRequest}\n                                        />\n                                    </div>\n                                    <div className=\"info\">Displaying page {activePage+1} of {totalPages},\n                                        items {(activePage + 1) * 10 - 9} to {(activePage + 1) * 10 > totalItems ? totalItems : (activePage + 1) * 10} of {totalItems}</div>\n                                </div>\n                            }\n                        </div>\n                        }\n                    </Fragment>: <h3 className={'empty_list'}>The list is empty</h3>}\n                </div>\n\n                <QuantityDialog toggler={this.toggleQuantityDialog}\n                                product_quantity={product_quantity}\n                                product_name={product_name}\n                                sign={sign}\n                                state={openQuantityDialog}\n                                product_id={product_id}\n                                startValue={''}\n                                activePage={activePage}\n                                doRequest={this.doRequest}\n                />\n                <RequestDialog toggler={this.toggleRequestDialog}\n                               product_quantity={product_quantity}\n                               product_name={product_name}\n                               state={openRequestDialog}\n                               product_id={product_id}\n                               startValue={''}\n                />\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    return{\n        stock_list: state.stock.stock_list,\n        search_list: state.stock.search_list,\n    }\n}\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators({\n        getStock,\n        searchStock,\n        getSearchList,\n    }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StockManagement);\n"]},"metadata":{},"sourceType":"module"}