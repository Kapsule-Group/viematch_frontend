{"ast":null,"code":"import _classCallCheck from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/src/components/Auth/Register/SignUpStepThird.jsx\";\nimport React, { Component } from 'react';\nimport { reduxForm, Field } from 'redux-form';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport DefaultButton from '../../Buttons/DefaultButton/DefaultButton';\nimport { Link } from 'react-router-dom';\nimport DialogComponent from \"../../HelperComponents/DialogComponent/DialogComponent\";\nimport arrow from \"../../../assets/image/Path.svg\";\nimport { sendMessage } from '../../../actions/authActions';\nimport { resetErrorUsers } from '../../../actions/UserActions';\n\nvar SignUpStepThird =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignUpStepThird, _Component);\n\n  function SignUpStepThird() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SignUpStepThird);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SignUpStepThird)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      open: false\n    };\n\n    _this.toggleDialog = function () {\n      var history = _this.props.history;\n\n      _this.setState(function (_ref) {\n        var open = _ref.open;\n        return {\n          open: !open\n        };\n      });\n\n      if (_this.state.open) history.push(\"/auth/sign-in\");\n    };\n\n    _this.resetError = function () {\n      var resetErrorUsers = _this.props.resetErrorUsers;\n      resetErrorUsers();\n    };\n\n    _this.submitForm = function (data) {\n      var sendMessage = _this.props.sendMessage;\n      var description = {\n        message: data.description ? data.description : ''\n      };\n      var clinic_id = localStorage.getItem('clinic_id');\n      sendMessage(description, clinic_id).then(function (res) {\n        if (res.payload && res.payload.status && res.payload.status === 201) {}\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(SignUpStepThird, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var open = this.state.open;\n      var _this$props = this.props,\n          handleSubmit = _this$props.handleSubmit,\n          valid = _this$props.valid;\n      return React.createElement(\"form\", {\n        onSubmit: handleSubmit(this.submitForm),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/auth/sign-up/second-step\",\n        className: \"back_step\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: arrow,\n        alt: \"arrow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), \"Step 2\"), React.createElement(\"h3\", {\n        className: \"auth-block_head\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Sign up to VIEBEG\"), React.createElement(\"h3\", {\n        className: \"auth-block_descriptions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"We are ready to go! You can give us more information if you want.\"), React.createElement(\"div\", {\n        className: \"block_field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Additional notes, 300 symbols\", React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"(optional)\")), React.createElement(Field, {\n        name: \"description\",\n        className: \"textarea\",\n        component: \"textarea\",\n        placeholder: \"Type here...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"auth_btn_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(DefaultButton, {\n        variant: \"contained\",\n        formAction: true,\n        onClick: this.toggleDialog,\n        disabled: !valid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Sign up\")), React.createElement(DialogComponent, {\n        open: open,\n        onClose: function onClose() {\n          return _this2.toggleDialog('');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"auth_dialog_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Thank you for your registration\"), React.createElement(\"div\", {\n        className: \"descriptions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Your details have been sent to our team and are currently under review. \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), \"You will soon receive a confirmation with log in details.\"), React.createElement(DefaultButton, {\n        variant: \"outlined\",\n        type: \"link\",\n        classes: \"blue_btn\",\n        to: \"/auth/sign-in\",\n        onClick: this.resetError,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"ok\"))));\n    }\n  }]);\n\n  return SignUpStepThird;\n}(Component);\n\nvar validate = function validate(values) {\n  var errors = {};\n\n  if (values.description && !/^.{0,300}$/.test(values.description)) {\n    errors.description = 'Maximum 300 symbols';\n  }\n\n  return errors;\n};\n\nSignUpStepThird = reduxForm({\n  form: 'SignUpStepThirdForm',\n  validate: validate\n})(SignUpStepThird);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    sendMessage: sendMessage,\n    resetErrorUsers: resetErrorUsers\n  }, dispatch);\n}\n\nexport default connect(null, mapDispatchToProps)(SignUpStepThird);","map":{"version":3,"sources":["/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/src/components/Auth/Register/SignUpStepThird.jsx"],"names":["React","Component","reduxForm","Field","connect","bindActionCreators","DefaultButton","Link","DialogComponent","sendMessage","resetErrorUsers","SignUpStepThird","state","open","toggleDialog","history","props","setState","push","resetError","submitForm","data","description","message","clinic_id","localStorage","getItem","then","res","payload","status","handleSubmit","valid","arrow","validate","values","errors","test","form","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { reduxForm, Field } from 'redux-form';\nimport {connect} from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport DefaultButton from '../../Buttons/DefaultButton/DefaultButton';\nimport { Link } from 'react-router-dom';\nimport DialogComponent from \"../../HelperComponents/DialogComponent/DialogComponent\";\nimport arrow from '../../../assets/image/Path.svg';\nimport { sendMessage } from '../../../actions/authActions';\nimport { resetErrorUsers } from '../../../actions/UserActions';\n\nclass SignUpStepThird extends Component {\n\n    state = {\n        open: false\n    };\n\n    toggleDialog = () => {\n        const { history } = this.props;\n\n        this.setState(({open}) => ({\n            open: !open\n        }));\n\n        if(this.state.open) history.push(`/auth/sign-in`);\n    };\n\n    resetError = () =>{\n        const {resetErrorUsers} = this.props;\n        resetErrorUsers()\n    };\n\n    submitForm = (data) => {\n        const { sendMessage } = this.props;\n        let description = {\n            message: data.description ? data.description : ''\n        };\n        let clinic_id = localStorage.getItem('clinic_id');\n        sendMessage(description, clinic_id).then(res => {\n            if(res.payload && res.payload.status && res.payload.status === 201) {\n            }\n        })\n    };\n\n    render(){\n        const { open } = this.state;\n        const {handleSubmit, valid } = this.props;\n        return (\n            <form onSubmit={handleSubmit(this.submitForm)}>\n                <Link to={`/auth/sign-up/second-step`} className=\"back_step\">\n                    <img src={arrow} alt=\"arrow\"/>\n                    Step 2\n                </Link>\n                <h3 className=\"auth-block_head\">Sign up to VIEBEG</h3>\n                <h3 className=\"auth-block_descriptions\">We are ready to go! You can give us more information if you want.</h3>\n                <div className=\"block_field\">\n                    <span>Additional notes, 300 symbols<p>(optional)</p></span>\n                    <Field\n                        name=\"description\"\n                        className=\"textarea\"\n                        component=\"textarea\"\n                        placeholder=\"Type here...\"\n                    />\n                </div>\n                <div className=\"auth_btn_wrapper\">\n                    <DefaultButton\n                        variant=\"contained\"\n                        formAction\n                        onClick={this.toggleDialog}\n                        disabled={!valid}\n                    >\n                        Sign up\n                    </DefaultButton>\n                </div>\n\n                <DialogComponent\n                    open={open}\n                    onClose={() => this.toggleDialog('')}\n                >\n                    <div className=\"auth_dialog_wrapper\">\n                        <div className=\"title\">Thank you for your registration</div>\n                        <div className=\"descriptions\">\n                            Your details have been sent to our team and are currently under review. <br/>\n                            You will soon receive a confirmation with log in details.\n                        </div>\n                        <DefaultButton\n                            variant=\"outlined\"\n                            type=\"link\"\n                            classes=\"blue_btn\"\n                            to={`/auth/sign-in`}\n                            onClick={this.resetError}\n                        >\n                            ok\n                        </DefaultButton>\n                    </div>\n                </DialogComponent>\n            </form>\n        );\n    }\n}\n\nconst validate = values => {\n    const errors = {};\n    if (values.description && !/^.{0,300}$/.test(values.description)) {\n        errors.description = 'Maximum 300 symbols'\n    }\n    return errors\n};\n\nSignUpStepThird = reduxForm({\n    form: 'SignUpStepThirdForm',\n    validate\n})(SignUpStepThird);\n\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators({\n        sendMessage,\n        resetErrorUsers\n    }, dispatch);\n}\n\nexport default connect(null, mapDispatchToProps)(SignUpStepThird);"]},"metadata":{},"sourceType":"module"}