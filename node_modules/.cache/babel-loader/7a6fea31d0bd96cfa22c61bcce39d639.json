{"ast":null,"code":"import _classCallCheck from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/src/components/Auth/Register/SignUpStepSecond.jsx\";\nimport React, { Component } from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport RenderField from \"../../HelperComponents/RenderField/RenderField\";\nimport DefaultButton from '../../Buttons/DefaultButton/DefaultButton';\nimport { Link } from 'react-router-dom';\nimport arrow from \"../../../assets/image/Path.svg\";\nimport { postRegisterSecondStep } from \"../../../actions/authActions\";\n\nvar SignUpStepSecond = /*#__PURE__*/function (_Component) {\n  _inherits(SignUpStepSecond, _Component);\n\n  function SignUpStepSecond() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SignUpStepSecond);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SignUpStepSecond)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      username: null\n    };\n\n    _this.submitForm = function (data) {\n      var _this$props = _this.props,\n          history = _this$props.history,\n          hospital_credentials = _this$props.hospital_credentials,\n          postRegisterSecondStep = _this$props.postRegisterSecondStep;\n      var clinic_info = JSON.parse(localStorage.getItem(\"clinic_info\"));\n      clinic_info.email = data && data.email ? data.email : '';\n      clinic_info.username = data && data.full_name;\n      clinic_info.phone = data && data.phone ? data.phone : '';\n      postRegisterSecondStep(clinic_info).then(function (res) {\n        if (res.payload && res.payload.status && res.payload.status === 201) {\n          localStorage.setItem('clinic_id', res.payload.data.id);\n          history.push('/auth/sign-up/third-step');\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(SignUpStepSecond, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          handleSubmit = _this$props2.handleSubmit,\n          submitting = _this$props2.submitting,\n          pristine = _this$props2.pristine,\n          valid = _this$props2.valid;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit(this.submitForm),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/auth/sign-up\",\n        className: \"back_step\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: arrow,\n        alt: \"arrow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }\n      }), \"Step 1\"), /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"auth-block_head\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }\n      }, \"Sign up to VIEBEG\"), /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"auth-block_descriptions\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }\n      }, \"Provide information about your business owner or director\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"block_field\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }\n      }, \"Full name\"), /*#__PURE__*/React.createElement(Field, {\n        name: \"full_name\",\n        type: \"text\",\n        component: RenderField,\n        placeholder: \"Type here\\u2026\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"block_custom_field\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"block_field\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }\n      }, \"Email \", /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 37\n        }\n      }, \"(optional)\")), /*#__PURE__*/React.createElement(Field, {\n        name: \"email\",\n        type: \"text\",\n        component: RenderField,\n        placeholder: \"Type here\\u2026\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"block_field custom_field_phone\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }\n      }, \"Phone number \", /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 44\n        }\n      }, \"(optional)\")), /*#__PURE__*/React.createElement(Field, {\n        name: \"phone\",\n        type: \"number\",\n        component: RenderField,\n        placeholder: \"Type here\\u2026\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"auth_btn_wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(DefaultButton, {\n        variant: \"contained\",\n        type: \"submit\",\n        disabled: submitting || pristine || !valid // loading={loading}\n        ,\n        formAction: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }\n      }, \"Next\")));\n    }\n  }]);\n\n  return SignUpStepSecond;\n}(Component);\n\nvar validate = function validate(values) {\n  var errors = {};\n  var regExp = new RegExp(/^([A-Za-z '.-]+){1}$/g);\n\n  if (!values.full_name) {\n    errors.full_name = 'Required';\n  } else if (!regExp.test(values.full_name)) {\n    errors.full_name = 'Invalid name';\n  }\n\n  if (values.phone && values.phone.length < 6) {\n    errors.phone = 'Must be from 6 characters to 16';\n  } else if (values.phone && values.phone.length > 16) {\n    errors.phone = 'Must be from 6 characters to 16';\n  }\n\n  return errors;\n};\n\nSignUpStepSecond = reduxForm({\n  form: 'SignUpStepSecondForm',\n  validate: validate\n})(SignUpStepSecond);\n\nfunction mapStateToProps(state, props) {\n  return {\n    hospital_credentials: state.auth.hospital_credentials\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    postRegisterSecondStep: postRegisterSecondStep\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUpStepSecond);","map":{"version":3,"sources":["/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/src/components/Auth/Register/SignUpStepSecond.jsx"],"names":["React","Component","Field","reduxForm","connect","bindActionCreators","RenderField","DefaultButton","Link","postRegisterSecondStep","SignUpStepSecond","state","username","submitForm","data","props","history","hospital_credentials","clinic_info","JSON","parse","localStorage","getItem","email","full_name","phone","then","res","payload","status","setItem","id","push","handleSubmit","submitting","pristine","valid","arrow","validate","values","errors","regExp","RegExp","test","length","form","mapStateToProps","auth","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport {connect} from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport RenderField from \"../../HelperComponents/RenderField/RenderField\";\nimport DefaultButton from '../../Buttons/DefaultButton/DefaultButton';\nimport { Link } from 'react-router-dom';\nimport arrow from '../../../assets/image/Path.svg';\nimport { postRegisterSecondStep } from \"../../../actions/authActions\";\nclass SignUpStepSecond extends Component {\n\n    state = {\n      username: null,\n    };\n\n    submitForm = (data) => {\n        const { history, hospital_credentials, postRegisterSecondStep } = this.props;\n        let clinic_info = JSON.parse(localStorage.getItem(\"clinic_info\"));\n        clinic_info.email = (data && data.email ? data.email : '');\n        clinic_info.username = (data && data.full_name);\n        clinic_info.phone = ( data && data.phone ? data.phone : '');\n        postRegisterSecondStep(clinic_info).then(res => {\n            if(res.payload && res.payload.status && res.payload.status === 201) {\n                localStorage.setItem('clinic_id', res.payload.data.id);\n                history.push('/auth/sign-up/third-step');\n            }\n        });\n    };\n\n\n\n    render(){\n        const {handleSubmit, submitting, pristine, valid,  } = this.props;\n        return (\n            <form onSubmit={handleSubmit(this.submitForm)}>\n                <Link to={`/auth/sign-up`} className=\"back_step\">\n                    <img src={arrow} alt=\"arrow\"/>\n                    Step 1\n                </Link>\n                <h3 className=\"auth-block_head\">Sign up to VIEBEG</h3>\n                <h3 className=\"auth-block_descriptions\">Provide information about your business owner or director</h3>\n                <div className=\"block_field\">\n                    <span>Full name</span>\n                    <Field name=\"full_name\" type=\"text\" component={RenderField} placeholder=\"Type here…\"/>\n                </div>\n                <div className=\"block_custom_field\">\n                    <div className=\"block_field\">\n                        <span>Email <p>(optional)</p></span>\n                        <Field name=\"email\" type=\"text\" component={RenderField} placeholder=\"Type here…\"/>\n                    </div>\n                    <div className=\"block_field custom_field_phone\">\n                        <span>Phone number <p>(optional)</p></span>\n                        <Field name=\"phone\" type=\"number\" component={RenderField} placeholder=\"Type here…\"/>\n                    </div>\n                </div>\n                <div className=\"auth_btn_wrapper\">\n                    <DefaultButton\n                        variant=\"contained\"\n                        type=\"submit\"\n                        disabled={submitting || pristine || !valid}\n                        // loading={loading}\n                        formAction\n                    >\n                        Next\n                    </DefaultButton>\n                </div>\n\n            </form>\n        );\n    }\n}\n\nconst validate = values => {\n    const errors = {};\n    const regExp = new RegExp(/^([A-Za-z '.-]+){1}$/g);\n    if (!values.full_name) {\n        errors.full_name = 'Required'\n    } else if (!regExp.test(values.full_name)) {\n        errors.full_name = 'Invalid name'\n    }\n    if (values.phone && values.phone.length < 6 ) {\n        errors.phone = 'Must be from 6 characters to 16'\n    }else if(values.phone && values.phone.length > 16 ){\n        errors.phone = 'Must be from 6 characters to 16'\n    }\n    return errors\n};\n\nSignUpStepSecond = reduxForm({\n    form: 'SignUpStepSecondForm',\n    validate\n})(SignUpStepSecond);\n\nfunction  mapStateToProps(state, props) {\n    return{\n        hospital_credentials: state.auth.hospital_credentials,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators({\n        postRegisterSecondStep,\n    }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUpStepSecond);"]},"metadata":{},"sourceType":"module"}