{"ast":null,"code":"import _objectSpread from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/src/components/StockManagement/Dialogs/QuantityDialog.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm } from 'redux-form';\nimport { bindActionCreators } from 'redux';\nimport DialogComponent from \"../../HelperComponents/DialogComponent/DialogComponent\";\nimport RenderField from \"../../HelperComponents/RenderField/RenderField\";\nimport { patchQuantity, getStock } from \"../../../actions/stockActions\";\n\nvar QuantityDialog = /*#__PURE__*/function (_Component) {\n  _inherits(QuantityDialog, _Component);\n\n  function QuantityDialog() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, QuantityDialog);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(QuantityDialog)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {};\n\n    _this.submitForm = function (data) {\n      var _this$props = _this.props,\n          patchQuantity = _this$props.patchQuantity,\n          toggler = _this$props.toggler,\n          product_id = _this$props.product_id,\n          sign = _this$props.sign,\n          reset = _this$props.reset,\n          activePage = _this$props.activePage,\n          doRequest = _this$props.doRequest;\n\n      var obj = _objectSpread({}, data);\n\n      if (sign === '-') {\n        obj.quantity = \"-\".concat(data.quantity);\n      }\n\n      patchQuantity(product_id, obj).then(function (res) {\n        if (res.payload && res.payload.status && res.payload.status === 200) {\n          reset('QuantityDialog');\n          toggler();\n          doRequest({\n            selected: activePage\n          });\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(QuantityDialog, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          toggler = _this$props2.toggler,\n          state = _this$props2.state,\n          product_name = _this$props2.product_name,\n          product_quantity = _this$props2.product_quantity,\n          handleSubmit = _this$props2.handleSubmit,\n          sign = _this$props2.sign,\n          fail_err = _this$props2.fail_err,\n          startValue = _this$props2.startValue,\n          reset = _this$props2.reset;\n      return /*#__PURE__*/React.createElement(DialogComponent, {\n        open: state,\n        onClose: function onClose() {\n          toggler();\n          reset('QuantityDialog');\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"quantity_dialog\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }\n      }, \"Change product quantity\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"descriptions\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }\n      }, \"You are about to change available amount of \", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 75\n        }\n      }, product_name), \". \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 121\n        }\n      }), \"Enter the quantity of the required product to proceed.\")), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit(this.submitForm),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"block_field\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 29\n        }\n      }, \"Quantity\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"back_error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }\n      }, fail_err && fail_err.quantity), sign === '-' ? /*#__PURE__*/React.createElement(Field, {\n        id: \"idx\",\n        name: \"quantity\",\n        type: \"number\",\n        max: product_quantity,\n        component: RenderField,\n        placeholder: \"Type here...\",\n        value: startValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 33\n        }\n      }) : /*#__PURE__*/React.createElement(Field, {\n        id: \"idx\",\n        name: \"quantity\",\n        type: \"number\",\n        component: RenderField,\n        placeholder: \"Type here...\",\n        value: startValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"btn_wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"cancel_btn\",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          toggler();\n          reset('QuantityDialog');\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 29\n        }\n      }, \"Cancel\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"blue_btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 29\n        }\n      }, sign === '-' ? 'remove' : 'add')))));\n    }\n  }]);\n\n  return QuantityDialog;\n}(Component);\n\nvar validate = function validate(values) {\n  var errors = {};\n\n  if (!values.quantity) {\n    errors.quantity = 'This field is required';\n  } else if (values.quantity && /-/.test(values.quantity)) {\n    errors.quantity = 'Ensure this value is greater than or equal to 0';\n  }\n\n  return errors;\n};\n\nQuantityDialog = reduxForm({\n  form: 'QuantityDialog',\n  validate: validate\n})(QuantityDialog);\n\nfunction mapStateToProps(state) {\n  return {\n    fail_err: state.stock.error\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    patchQuantity: patchQuantity,\n    getStock: getStock\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QuantityDialog);","map":{"version":3,"sources":["/home/mydev/viebeg/backend/viebeg_backend2/4Com-viebeg-frontend-2089674220ab-2/src/components/StockManagement/Dialogs/QuantityDialog.jsx"],"names":["React","Component","connect","Field","reduxForm","bindActionCreators","DialogComponent","RenderField","patchQuantity","getStock","QuantityDialog","state","submitForm","data","props","toggler","product_id","sign","reset","activePage","doRequest","obj","quantity","then","res","payload","status","selected","product_name","product_quantity","handleSubmit","fail_err","startValue","e","preventDefault","validate","values","errors","test","form","mapStateToProps","stock","error","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport { Field, reduxForm } from 'redux-form';\nimport { bindActionCreators } from 'redux';\nimport DialogComponent from \"../../HelperComponents/DialogComponent/DialogComponent\";\nimport RenderField from \"../../HelperComponents/RenderField/RenderField\";\nimport { patchQuantity, getStock } from \"../../../actions/stockActions\";\n\nclass QuantityDialog extends Component {\n\n    state = {\n    };\n\n\n    submitForm = (data) => {\n        const { patchQuantity, toggler, product_id, sign,reset, activePage,doRequest } = this.props;\n        let obj = {...data};\n        if(sign === '-'){\n            obj.quantity = `-${data.quantity}`;\n        }\n        patchQuantity(product_id, obj).then(res => {\n            if(res.payload && res.payload.status && res.payload.status === 200) {\n                reset('QuantityDialog');\n                toggler();\n                doRequest( {selected: activePage});\n            }\n        });\n\n    };\n\n\n    render(){\n        const {\n            toggler,\n            state,\n            product_name,\n            product_quantity,\n            handleSubmit,\n            sign,\n            fail_err,\n            startValue,\n            reset,\n\n        } = this.props;\n        return (\n\n            <DialogComponent\n                open={state}\n                onClose={() => {toggler(); reset('QuantityDialog')}}\n            >\n                <div className=\"quantity_dialog\">\n                    <div className=\"title\">\n                        <span>Change product quantity</span>\n                    </div>\n                    <div className=\"descriptions\">\n                        <span>You are about to change available amount of <span className='name'>{product_name}</span>. <br/>Enter the quantity of the required product to proceed.</span>\n                    </div>\n                    <form onSubmit={handleSubmit(this.submitForm)}>\n                        <div className=\"block_field\">\n                            <span>Quantity</span>\n                            <span className='back_error'>{fail_err && fail_err.quantity}</span>\n                            {sign === '-' ?\n                                <Field\n                                    id='idx'\n                                    name='quantity'\n                                    type=\"number\"\n                                    max={product_quantity}\n                                    component={RenderField}\n                                    placeholder=\"Type here...\"\n                                    value={startValue}\n                                /> :\n                                <Field\n                                    id='idx'\n                                    name='quantity'\n                                    type=\"number\"\n                                    component={RenderField}\n                                    placeholder=\"Type here...\"\n                                    value={startValue}\n                                />\n                            }\n                        </div>\n                        <div className=\"btn_wrapper\">\n                            <button className=\"cancel_btn\" onClick={(e) => {e.preventDefault(); toggler(); reset('QuantityDialog')}}>Cancel</button>\n                            <button className=\"blue_btn\">{sign === '-' ? 'remove' : 'add'}</button>\n                        </div>\n                    </form>\n                </div>\n            </DialogComponent>\n        );\n    }\n}\n\nconst validate = values => {\n    const errors = {};\n    if (!values.quantity) {\n        errors.quantity = 'This field is required'\n    }else if(values.quantity && /-/.test(values.quantity)){\n        errors.quantity = 'Ensure this value is greater than or equal to 0'\n    }\n    return errors\n};\n\nQuantityDialog = reduxForm({\n    form: 'QuantityDialog',\n    validate\n})(QuantityDialog);\n\nfunction mapStateToProps(state) {\n    return{\n        fail_err: state.stock.error,\n    }\n}\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators({\n        patchQuantity,\n        getStock\n    }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QuantityDialog);\n"]},"metadata":{},"sourceType":"module"}